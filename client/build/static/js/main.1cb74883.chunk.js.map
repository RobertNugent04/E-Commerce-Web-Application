{"version":3,"sources":["components/Footer.js","components/LinkInClass.js","config/global_constants.js","components/Logout.js","components/Login.js","components/Register.js","components/NavBar.js","components/ResetDatabase.js","components/ResetShoes.js","components/CarTableRow.js","components/CarTable.js","components/Search.js","components/Sort.js","components/Stock.js","components/AddCar.js","components/EditCar.js","components/EditUser.js","components/DeleteCar.js","components/UserDelete.js","components/Filter.js","components/ShoeTableElement.js","components/ShoeTable.js","components/Home.js","components/DisplayAllCars.js","components/LoggedInRoute.js","components/PayPalMessage.js","components/BuyShoe.js","components/BuyShoeGuest.js","components/ProfilePage.js","components/ThankYou.js","components/ContactUs.js","components/Return.js","components/ShoeTableHistory.js","components/PurchaseHistory.js","components/CartTableRow.js","components/CartTable.js","components/CheckoutTableRow.js","components/CheckoutTable.js","components/Cart.js","components/AddedToCart.js","components/Product.js","components/CartDelete.js","components/UserTableRow.js","components/UserTable.js","components/Users.js","components/AddComment.js","App.js","serviceWorker.js","index.js"],"names":["Footer","class","id","Component","LinkInClass","tabIndex","className","this","props","onClick","event","value","ACCESS_LEVEL_GUEST","ACCESS_LEVEL_NORMAL_USER","ACCESS_LEVEL_ADMIN","SANDBOX_CLIENT_ID","SERVER_HOST","Logout","handleSubmit","e","preventDefault","axios","post","then","res","data","errorMessage","console","log","localStorage","clear","name","accessLevel","setState","isLoggedIn","state","noValidate","to","Login","handleChange","target","emailExists","users","find","user","email","emailMatch","undefined","password","passwordMatches","wasSubmittedAtLeastOnce","token","profilePhoto","cart_item","get","loginError","type","placeholder","autoComplete","onChange","Register","handleFileChange","selectedFile","files","validate","formData","FormData","append","headers","isRegistered","confirmPassword","test","String","validateName","validateEmail","validatePassword","validateConfirmPassword","nameError","emailError","passwordError","confirmPasswordError","ref","input","inputToFocus","title","NavBar","ResetDatabase","resetUsersModel","isReset","Reset","redirectToDisplayAllCars","match","params","pathname","CarTableRow","car","brand","gender","category","price","items_left","_id","CarTable","cars","map","key","Search","handleInputChange","search","handleSearchClick","handleSearchChange","Sort","SortButton","handleSortClick","switchKey","handleSortChange","sortColumn","stuff","Stock","searchBy","selectedShoes","filter","finder","toUpperCase","includes","shoes","sortDirection","sortSwitch","sort","a","b","sortBy","attributes","AddCar","selectedFiles","formInputsState","Object","keys","every","index","carObject","model","colour","stock","color","sizes","forEach","size","i","length","handleAddSize","prevState","handleChangeSize","slice","focus","parseInt","validateBrand","validateStock","validatePrice","validateColor","validateCategory","validateGender","validateSize","brandError","priceError","stockError","colorError","categoryError","genderError","sizeError","controlId","multiple","EditCar","put","profilePhotoFilename","resetCart","delete","window","alert","resetProfilePhoto","validateCartItem","DeleteCar","Filter","genders","Set","shoe","brands","colors","categories","handleFilterChange","ShoeTableElement","imageFiles","embeddedImage","photos","photo","filename","image","push","src","alt","imageURL","ShoeTable","dayOfWeek","Date","getDay","DisplayAllCars","width","filteredShoes","sortedShoes","selectedValue","isChecked","checked","selectedBrands","selectedColors","selectedGenders","selectedCategories","updatedBrands","applyFilters","unfilteredBrands","updatedColors","unfilteredColors","updatedGenders","unfilteredGenders","updatedCategories","unfilteredCategories","saved","filters","LoggedInRoute","component","exact","path","rest","render","PayPalMessage","buttonColour","msessageType","messageType","SUCCESS","heading","message","CANCEL","ERROR","payPalPaymentID","BuyShoe","createOrder","actions","order","create","purchase_units","amount","onApprove","paymentData","JSON","stringify","ids","quantity","names","images","orderID","payPalMessageType","payPalOrderID","redirectToPayPalMessage","catch","errorData","onError","onCancel","cancelData","getItem","options","currency","style","layout","shoeName","picture","ThankYou","ContactUs","setFormErrors","subjectError","messageError","noErrors","validateSubject","validateMessage","subject","response","successMessage","redirectToThankYou","messagePassword","onSubmit","Return","ShoeTableHistory","handleSelect","shoesID","splice","shoe_name","updateSales","redirectToReturned","error","flatMap","trim","beforeFilter","restore","backup","usedFilters","lastFilter","brandUsed","genderUsed","sizeUsed","colorUsed","CartTableRow","parse","CartTable","reduce","total","Cart","totalPrice","shoeID","soldOrForSale","AddedToCart","Product","wasSubmittedOnce","location","quantityNum","redirectToAdded","handleSizeChange","commentToggle","comments","showComments","showSlides","slideIndex","slides","document","getElementsByClassName","dots","display","replace","increaseValue","getElementById","isNaN","forceUpdate","decreaseValue","getFromFile","n","userName","comment","file","plusSlides","currentSlide","CartDelete","redirectToCart","UserTableRow","UserTable","User","commentObject","height","App","ResetShoes","Home","BuyShoeGuest","PayPalMessageGuess","Users","ProfilePage","EditUser","UserDelete","PurchaseHistory","AddComment","Boolean","hostname","ReactDOM","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.1cb74883.chunk.js","sourcesContent":["import React, {Component} from \"react\"\r\nexport default class Footer extends Component\r\n{\r\n    render()\r\n    {   \r\n        return(\r\n        <div class=\"footer\">\r\n            <footer> \r\n                <span>&copy; Rob's Shoes Copyright 2023 - By Robert, Kevas, Matthew - SD2B</span>\r\n                <span id=\"date\"></span>\r\n            </footer>     \r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n","//Author: Derek O Reilly\r\n//\r\n// Helper Component class that allows us to have a button that render the same way as a <Link> component\r\n// Use this class to link to functions within the same class\r\n// Use <Link> to link to Components that are in other routes\r\nimport React, {Component} from \"react\"\r\n\r\n\r\nexport default class LinkInClass extends Component\r\n{\r\n    render()\r\n    {\r\n        return (\r\n            <span tabIndex=\"0\" className={this.props.className} onClick={(event) => {this.props.onClick(event)}}>     \r\n                {this.props.value}\r\n            </span>\r\n        )\r\n    }\r\n}","// This file holds global constants that are visible on the Client-side\r\n\r\n\r\n// Access level\r\nexport const ACCESS_LEVEL_GUEST = 0\r\nexport const ACCESS_LEVEL_NORMAL_USER = 1\r\nexport const ACCESS_LEVEL_ADMIN = 2\r\n\r\n//PayPal\r\nexport const SANDBOX_CLIENT_ID = \"Ad6U5X-sQdqyNd5tfrXrv1YBnu624VEryKNsauU4Cmp8HppaPKX73gmIYkHnNoNo_D4EVj79SzpTeQUz\"\r\n\r\n// Server\r\nexport const SERVER_HOST = `http://localhost:4000`\r\n\r\n\r\n\r\n\r\n","import React, {Component} from \"react\"\r\nimport {Redirect} from \"react-router-dom\"\r\nimport axios from \"axios\"\r\nimport NavBar from \"./NavBar\"\r\nimport Footer from \"./Footer\"\r\n\r\nimport {Link} from \"react-router-dom\"\r\nimport LinkInClass from \"../components/LinkInClass\"\r\nimport {ACCESS_LEVEL_GUEST, SERVER_HOST} from \"../config/global_constants\"\r\n\r\n\r\nexport default class Logout extends Component\r\n{\r\n    constructor(props)\r\n    {\r\n        super(props)\r\n        \r\n        this.state = {\r\n            isLoggedIn:true\r\n        }\r\n    }\r\n    \r\n    \r\n    handleSubmit = (e) => \r\n    {\r\n        e.preventDefault()\r\n        \r\n        axios.post(`${SERVER_HOST}/users/logout`)\r\n        .then(res => \r\n        {     \r\n            if(res.data)\r\n            {\r\n                if (res.data.errorMessage)\r\n                {\r\n                    console.log(res.data.errorMessage)    \r\n                }\r\n                else\r\n                { \r\n                    console.log(\"User logged out\")\r\n                   localStorage.clear() \r\n                    \r\n                    localStorage.name = \"GUEST\"\r\n                    localStorage.accessLevel = ACCESS_LEVEL_GUEST\r\n                    this.setState({isLoggedIn:false}) \r\n                }\r\n            }\r\n            else\r\n            {\r\n                console.log(\"Logout failed\")\r\n            }\r\n        }) \r\n    }\r\n\r\n\r\n    render()\r\n    {\r\n        return (\r\n            \r\n            \r\n            <form className=\"form-container\" noValidate = {true} id = \"loginOrRegistrationForm\">\r\n            <div class=\"navbar-container\">\r\n                        <NavBar/>\r\n                    </div> <br/> <br/> <br/> <br/> <br/> <br/> <center>\r\n                <h2 id=\"title2\">Log Out?</h2>\r\n                <p>Are you sure you want to logout?</p> \r\n                \r\n                <div>   \r\n        \r\n                {!this.state.isLoggedIn ? <Redirect to=\"/DisplayAllCars\"/> : null} \r\n                  \r\n            <LinkInClass value=\"Log out\" className=\"red-button\" onClick={this.handleSubmit}/> \r\n            <Link className=\"green-button\" to={\"/DisplayAllCars\"}>Cancel</Link>\r\n                    \r\n            </div> \r\n            </center>\r\n                <Footer/>\r\n            </form>\r\n        )\r\n    }\r\n}","import React, {Component} from \"react\"\r\nimport {Redirect, Link} from \"react-router-dom\"\r\nimport axios from \"axios\"\r\n\r\nimport LinkInClass from \"../components/LinkInClass\"\r\nimport {ACCESS_LEVEL_GUEST, SERVER_HOST} from \"../config/global_constants\"\r\n\r\nimport NavBar from \"./NavBar\"\r\nimport Footer from \"./Footer\"\r\n\r\nexport default class Login extends Component\r\n{\r\n    constructor(props)\r\n    {\r\n        super(props)\r\n        \r\n        this.state = {\r\n            users: [],\r\n            email:\"\",\r\n            password:\"\",\r\n            isLoggedIn:false,\r\n            cart_item:0,\r\n            wasSubmittedAtLeastOnce: false,\r\n            emailMatch: [],\r\n            passwordMatches: false\r\n        }\r\n    }\r\n    \r\n    componentDidMount() \r\n    {\r\n\r\n        axios.get(`${SERVER_HOST}/users`)\r\n        .then(res => \r\n        {\r\n            if(res.data)\r\n            {\r\n                if (res.data.errorMessage)\r\n                {\r\n                    console.log(res.data.errorMessage)    \r\n                }\r\n                else\r\n                {           \r\n                    console.log(res.data)\r\n                    console.log(\"Records read\")   \r\n                    this.setState({users: res.data}) \r\n                }   \r\n            }\r\n            else\r\n            {\r\n                console.log(\"Record not found\")\r\n            }\r\n        })\r\n    }\r\n    \r\n    handleChange = (e) => \r\n    {\r\n        this.setState({[e.target.name]: e.target.value})\r\n    }\r\n    \r\n    \r\n    handleSubmit = (e) => \r\n    {\r\n\r\n        const emailExists = this.state.users.find(user => user.email === this.state.email);\r\n        this.setState({emailMatch: emailExists})\r\n\r\n        console.log(emailExists)\r\n        if(emailExists !== undefined){\r\n        if (emailExists.password === this.state.password) {\r\n            this.setState({passwordMatches: true})\r\n          }\r\n          else{\r\n            this.setState({passwordMatches: false})\r\n          }\r\n        }\r\n\r\n        this.setState({ wasSubmittedAtLeastOnce: true });\r\n\r\n        axios.post(`${SERVER_HOST}/users/login/${this.state.email}/${this.state.password}`)\r\n        .then(res => \r\n        {     \r\n            // default if not logged in\r\n            localStorage.name = \"GUEST\"\r\n            localStorage.accessLevel = ACCESS_LEVEL_GUEST \r\n            if(res.data)\r\n            {\r\n                if (res.data.errorMessage)\r\n                {\r\n                    console.log(res.data.errorMessage)    \r\n                }\r\n                else // user successfully logged in\r\n                { \r\n                    console.log(\"User logged in\")\r\n                    console.log(res.data)\r\n                    localStorage.name = res.data.name\r\n                        localStorage.accessLevel = res.data.accessLevel\r\n                        localStorage.token = res.data.token\r\n                        localStorage.profilePhoto = res.data.profilePhoto\r\n                        localStorage.email = res.data.email\r\n                        localStorage.cart_item= res.data.cart_item\r\n                    \r\n                    this.setState({isLoggedIn:true})\r\n                }        \r\n            }\r\n            else\r\n            {\r\n                console.log(\"Login failed\")\r\n            }\r\n        })                \r\n    }\r\n\r\n\r\n    render()\r\n    {        \r\n        let loginError = \"\"  \r\n\r\n        if(this.state.wasSubmittedAtLeastOnce)\r\n        {\r\n            if(this.state.emailMatch === undefined){\r\n            loginError = <p class=\"error\">Login Details are incorrect!</p>;\r\n            }\r\n        }\r\n        return (\r\n            <form className=\"form-container\" noValidate = {true} id = \"loginOrRegistrationForm\">\r\n            <div class=\"navbar-container\">\r\n                        <NavBar/> \r\n                        </div> <br/> <br/> <br/> <br/> <br/> <br/> <center>\r\n                    \r\n                <h2 id=\"title2\">Login</h2>\r\n                \r\n                {this.state.isLoggedIn ? <Redirect to=\"/DisplayAllCars\"/> : null} \r\n                \r\n                {loginError}\r\n                {\"\"}\r\n\r\n                <input \r\n                    type = \"email\" \r\n                    name = \"email\" \r\n                    placeholder = \"Email\"\r\n                    autoComplete=\"email\"\r\n                    value={this.state.email} \r\n                    onChange={this.handleChange}\r\n                /><br/>\r\n                    \r\n                <input \r\n                    type = \"password\" \r\n                    name = \"password\" \r\n                    placeholder = \"Password\"\r\n                    autoComplete=\"password\"\r\n                    value={this.state.password} \r\n                    onChange={this.handleChange}\r\n                /><br/><br/>\r\n                \r\n                <LinkInClass value=\"Login\" className=\"green-button\" onClick={this.handleSubmit}/> \r\n                <Link className=\"red-button\" to={\"/DisplayAllCars\"}>Cancel</Link> \r\n                </center>\r\n                <Footer/>\r\n            </form>\r\n        )\r\n    }\r\n}","import React, { Component } from \"react\"\r\nimport { Redirect, Link } from \"react-router-dom\"\r\nimport axios from \"axios\"\r\nimport NavBar from \"./NavBar\"\r\nimport Footer from \"./Footer\"\r\n\r\nimport LinkInClass from \"../components/LinkInClass\"\r\n\r\nimport { SERVER_HOST } from \"../config/global_constants\"\r\n\r\n\r\nexport default class Register extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            name: \"\",\r\n            email: \"\",\r\n            password: \"\",\r\n            confirmPassword: \"\",\r\n            selectedFile: null,\r\n            isRegistered: false\r\n        }\r\n    }\r\n\r\n\r\n    handleChange = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value })\r\n\r\n    }\r\n\r\n    handleFileChange = (e) => {\r\n        this.setState({ selectedFile: e.target.files[0] });\r\n        console.log(e.target.files[0])\r\n    }\r\n\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault()\r\n\r\n        this.setState({ wasSubmittedAtLeastOnce: true });\r\n\r\n        const formInputsState = this.validate();\r\n\r\n        let formData = new FormData()\r\n        formData.append(\"profilePhoto\", this.state.selectedFile)\r\n\r\n        axios.post(`${SERVER_HOST}/users/register/${this.state.name}/${this.state.email}/${this.state.password}`, formData, { headers: { \"Content-type\": \"multipart/form-data\" } })\r\n            .then(res => {\r\n                if (res.data) {\r\n                    if (res.data.errorMessage) {\r\n                        console.log(res.data.errorMessage)\r\n                    }\r\n                    else // user successfully registered\r\n                    {\r\n                        console.log(\"User registered and logged in\")\r\n\r\n                        localStorage.name = res.data.name\r\n                        localStorage.accessLevel = res.data.accessLevel\r\n                        localStorage.token = res.data.token\r\n                        localStorage.profilePhoto = res.data.profilePhoto\r\n                        localStorage.email = res.data.email\r\n                        localStorage.cart_item = res.data.cart_item\r\n\r\n\r\n                        this.setState({ isRegistered: true, wasSubmittedAtLeastOnce: false })\r\n                    }\r\n                }\r\n                else {\r\n                    console.log(\"Registration failed\")\r\n                }\r\n            })\r\n    }\r\n\r\n    validateName()\r\n    {    \r\n        //Not empty\r\n        return this.state.name !== \"\";\r\n    }\r\n\r\n    validateEmail(){\r\n\r\n        const pattern = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/;\r\n        return pattern.test(String(this.state.email))\r\n\r\n    }\r\n\r\n    validatePassword()\r\n    {    \r\n        //Pattern to match value with at least one letter, one number and one special character and has minimum 8 characters\r\n        const pattern = /^(?=.*[A-Za-z])(?=.*\\d)(?=.*[!@#$£%^&*()_+{}|:\"<>?`~\\-\\[\\]\\\\;',.\\/])[A-Za-z\\d!@#$£%^&*()_+{}|:\"<>?`~\\-\\[\\]\\\\;',.\\/]{8,}$/;\r\n        return pattern.test(String(this.state.password))\r\n    }\r\n\r\n    validateConfirmPassword(){\r\n\r\n        return this.state.confirmPassword === this.state.password;\r\n\r\n    }\r\n\r\n    validate() {\r\n        return {\r\n            name: this.validateName(),\r\n            email: this.validateEmail(),\r\n            password: this.validatePassword(),\r\n            confirmPassword : this.validateConfirmPassword()\r\n        };\r\n    }\r\n\r\n    render() {\r\n\r\n        let nameError = \"\"\r\n        let emailError = \"\"\r\n        let passwordError = \"\"\r\n        let confirmPasswordError = \"\"\r\n\r\n        if (this.state.wasSubmittedAtLeastOnce) {\r\n\r\n            if (!this.validateName()) {\r\n                nameError = <p class=\"error\">Name can't be empty</p>;\r\n            }\r\n            if (!this.validateEmail()) {\r\n                emailError = <p class=\"error\">Invalid email</p>;\r\n            }\r\n            if (!this.validateConfirmPassword()) {\r\n                confirmPasswordError = <p class=\"error\">Passwords don't match</p>;\r\n            }\r\n        if (!this.validatePassword()) {\r\n            passwordError = <p class=\"error\">Password must have at least: <ul>\r\n                                            <li>one letter</li>\r\n                                            <li>one number</li>\r\n                                            <li>one special character</li>\r\n                                            <li>8 total characters</li></ul></p>;\r\n        }else {\r\n            passwordError = \"\";\r\n        }\r\n    }\r\n\r\n        return (\r\n            <div className=\"form-container\">\r\n                <div class=\"navbar-container\">\r\n                    <NavBar />\r\n                </div> <br /> <br /> <br /> <br /> <br /> <br /> <center>\r\n\r\n                    {this.state.isRegistered ? <Redirect to=\"/DisplayAllCars\" /> : null}\r\n\r\n                    <h2 id=\"title2\">User Registration</h2>\r\n\r\n                <input\r\n                    name=\"name\"\r\n                    type=\"text\"\r\n                    placeholder=\"Name\"\r\n                    autoComplete=\"name\"\r\n                    value={this.state.name}\r\n                    onChange={this.handleChange}\r\n                    ref={(input) => { this.inputToFocus = input }}\r\n                /><br />\r\n                                                                        {\" \"}\r\n                        {nameError}\r\n\r\n                <input\r\n                    name=\"email\"\r\n                    type=\"email\"\r\n                    placeholder=\"Email\"\r\n                    autoComplete=\"email\"\r\n                    value={this.state.email}\r\n                    onChange={this.handleChange}\r\n                /><br />\r\n                                                        {\" \"}\r\n                        {emailError}\r\n\r\n                <input\r\n                    name=\"password\"\r\n                    type=\"password\"\r\n                    placeholder=\"Password\"\r\n                    autoComplete=\"password\"\r\n                    title=\"Password must be at least ten-digits long and contains at least one lowercase letter, one uppercase letter, one digit and one of the following characters (£!#€$%^&*)\"\r\n                    value={this.state.password}\r\n                    onChange={this.handleChange}\r\n                /><br />\r\n                                        {\" \"}\r\n                        {passwordError}\r\n\r\n                <input\r\n                    name=\"confirmPassword\"\r\n                    type=\"password\"\r\n                    placeholder=\"Confirm password\"\r\n                    autoComplete=\"confirmPassword\"\r\n                    value={this.state.confirmPassword}\r\n                    onChange={this.handleChange}\r\n                />\r\n                                                        {\" \"}\r\n                        {confirmPasswordError}\r\n                <br /><br />\r\n                \r\n                <input\r\n                    type=\"file\"\r\n                    onChange={this.handleFileChange}\r\n                /><br/><br/>\r\n\r\n                    <LinkInClass value=\"Register\" className=\"green-button\" onClick={this.handleSubmit} />\r\n                    <Link className=\"red-button\" to={\"/DisplayAllCars\"}>Cancel</Link>\r\n                </center>\r\n\r\n                <Footer />\r\n            </div>\r\n\r\n        )\r\n    }\r\n}","import React, {Component} from \"react\"\r\nimport {Link} from \"react-router-dom\"\r\nimport Logout from \"./Logout\"\r\nimport Login from \"./Login\"\r\nimport Register from \"./Register\"\r\n\r\nimport { ACCESS_LEVEL_GUEST, ACCESS_LEVEL_ADMIN, SERVER_HOST } from \"../config/global_constants\"\r\n\r\nexport default class NavBar extends Component\r\n{\r\n    render()\r\n    {   \r\n\r\n        if(localStorage.cart_item === \"undefined\"){\r\n\r\n            localStorage.cart_item = 0;\r\n\r\n        }\r\n\r\n        return(\r\n        <div class=\"navbar\">\r\n            <p id=\"title\" className = \"hide\">Rob's Shoe Exchange</p>\r\n            <div id=\"menu-controls\">\r\n            <Link className=\"menu-item\" class=\"navButton\" to={\"/Home\"}>Home</Link>\r\n            <Link className=\"menu-item\" class=\"navButton\" to={\"/DisplayAllCars\"}>Store</Link>\r\n            <Link id = \"contactUsButton\" className=\"menu-item\" class=\"navButton\" to={\"/ContactUs\"}>Contact Us</Link>\r\n            { localStorage.accessLevel >ACCESS_LEVEL_GUEST ?\r\n            <Link className=\"menu-item\" class=\"navButton\" to={\"/Cart\"}>Cart({localStorage.cart_item})</Link>:\r\n            null}\r\n            </div>\r\n            \r\n            <div id=\"account-controls\">\r\n            {localStorage.accessLevel > ACCESS_LEVEL_GUEST ?\r\n            <div>\r\n                        <Link className=\"green-button\" to={\"/Logout\"}>Logout</Link>\r\n                        <Link className=\"blue-button\" to={\"/ProfilePage\"}>Profile</Link>\r\n                        </div>\r\n                    :\r\n\r\n            <div>\r\n                        <Link className=\"green-button\" to={\"/Login\"}>Login</Link>\r\n                        <Link className=\"blue-button\" to={\"/Register\"}>Register</Link> \r\n                        </div>\r\n\r\n                }\r\n                </div>\r\n                \r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\n","import React, {Component} from \"react\"\r\nimport {Redirect, Link} from \"react-router-dom\"\r\nimport axios from \"axios\"\r\n\r\nimport LinkInClass from \"../components/LinkInClass\"\r\nimport {SERVER_HOST} from \"../config/global_constants\"\r\n\r\nimport NavBar from \"./NavBar\"\r\nimport Footer from \"./Footer\"\r\n\r\nexport default class ResetDatabase extends Component\r\n{\r\n    constructor(props)\r\n    {\r\n        super(props)\r\n        \r\n        this.state = {   \r\n            isReset:false\r\n        } \r\n    }\r\n    \r\n    \r\n    handleChange = (e) => \r\n    {\r\n        this.setState({[e.target.name]: e.target.value})\r\n    }\r\n    \r\n\r\n    resetUsersModel = () =>\r\n    {\r\n        axios.post(`${SERVER_HOST}/users/reset_user_collection`)\r\n        .then(res => \r\n        {     \r\n            if(res.data)\r\n            {\r\n                if (res.data.errorMessage)\r\n                {\r\n                    console.log(res.data.errorMessage)    \r\n                }\r\n                else // user successfully reset the User collection\r\n                { \r\n                    console.log(\"User collection reset\")\r\n                    localStorage.clear()\r\n                }        \r\n            }\r\n            else\r\n            {\r\n                console.log(\"Failed to reset User collection\")\r\n            }\r\n            \r\n            this.setState({isReset:true})\r\n        })   \r\n    }\r\n\r\n\r\n\r\n    render() \r\n    { \r\n        return (\r\n            <form className=\"form-container\" noValidate = {true} id = \"loginOrRegistrationForm\">\r\n            <div class=\"navbar-container\">\r\n                        <NavBar/>\r\n                    </div> <br/> <br/> <br/>\r\n\r\n               {this.state.isReset ? <Redirect to=\"/DisplayAllCars\"/> : null} \r\n\r\n                <p>\"Reset User Database\" is only for testing purposes.<br/>All code on the client-side and server-side relating to resetting the database should be removed from any development release</p>\r\n                <LinkInClass value=\"Reset User Database\" className=\"red-button\" onClick={this.resetUsersModel}/> <br/><br/>\r\n                <p>Reset the database and set up an administrator with:<br/> * email <strong>admin@admin.com</strong><br/> * password <strong>123!\"£qweQWE</strong></p>        \r\n            \r\n                <Link className=\"red-button\" to={\"/DisplayAllCars\"}>Cancel</Link>\r\n                <Footer/>\r\n            </form>\r\n        )\r\n    }\r\n}","/* \r\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\r\n * Click nbfs://nbhost/SystemFileSystem/Templates/ClientSide/javascript.js to edit this template\r\n */\r\n\r\n\r\nimport React, {Component} from \"react\"\r\nimport {Redirect} from \"react-router-dom\"\r\nimport axios from \"axios\"\r\n\r\nimport {SERVER_HOST} from \"../config/global_constants\"\r\n\r\n\r\nexport default class Reset extends Component \r\n{\r\n    constructor(props) \r\n    {\r\n        super(props)\r\n        \r\n        this.state = {\r\n            redirectToDisplayAllCars:true   \r\n        }\r\n    }\r\n    \r\n    \r\n       componentDidMount()\r\n    {\r\n        axios.get(`${SERVER_HOST}/reset`)\r\n                .then(res =>\r\n                {\r\n\r\n                    if (res.data)\r\n                    {\r\n                        if (res.data.errorMessage)\r\n                        {\r\n                            console.log(res.data.errorMessage)\r\n                        } else\r\n                        {\r\n                            console.log(res.data)\r\n//                            this.setState({cars: res.data})\r\n                        }\r\n                    } else\r\n                    {\r\n                        console.log(\"Record not found\")\r\n                    }\r\n                })\r\n    }\r\n  \r\n  \r\n    render() \r\n    {\r\n        return (\r\n            <div>  \r\n    {console.log(this.props.match.params.id)}\r\n    {console.log(this.state.redirectToDisplayAllCars)}\r\n                {this.state.redirectToDisplayAllCars ? <Redirect\r\n            to={{\r\n            pathname: \"/DisplayAllCars\",\r\n\r\n          }}\r\n        /> : null}                      \r\n            </div>\r\n        )\r\n    }\r\n}","import React, {Component} from \"react\"\r\nimport axios from \"axios\"\r\nimport {Link} from \"react-router-dom\"\r\n\r\n\r\nimport {ACCESS_LEVEL_GUEST, ACCESS_LEVEL_ADMIN,SERVER_HOST} from \"../config/global_constants\"\r\n\r\n\r\nexport default class CarTableRow extends Component \r\n{    \r\n\r\n\r\n    render() \r\n    {\r\n        return (\r\n            <tr>\r\n                <td>{this.props.car.name}</td>\r\n                <td className = \"hide\">{this.props.car.brand}</td>\r\n                <td className = \"hide\">{this.props.car.gender}</td>\r\n                <td className = \"hide\">{this.props.car.category}</td>\r\n                <td className = \"hide\">{this.props.car.price}</td>\r\n                <td>{this.props.car.items_left}</td>\r\n                <td>\r\n                    {localStorage.accessLevel > ACCESS_LEVEL_GUEST ? <Link className=\"green-button\" to={\"/EditCar/\" + this.props.car._id}>Edit</Link> : null}\r\n                    \r\n                    {localStorage.accessLevel >= ACCESS_LEVEL_ADMIN ? <Link  className=\"red-button\" to={\"/DeleteCar/\" + this.props.car._id}>Delete</Link> : null}   \r\n                    \r\n                \r\n                </td>\r\n            </tr>\r\n        )\r\n    }\r\n}","import React, {Component} from \"react\"\r\nimport CarTableRow from \"./CarTableRow\"\r\n\r\n\r\nexport default class CarTable extends Component \r\n{\r\n    render() \r\n    {\r\n        return (\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <th>Name</th>\r\n                        <th className = \"hide\">Brand</th>\r\n                        <th className = \"hide\">Gender</th>\r\n                        <th className = \"hide\">Category</th>\r\n                        <th className = \"hide\">Price</th>\r\n                        <th>Stock</th>\r\n                        <th> </th>\r\n                    </tr>\r\n                </thead>\r\n                  \r\n                <tbody>\r\n                    {this.props.cars.map((car) => <CarTableRow key={car._id} car={car}/>)}\r\n                </tbody>\r\n            </table>      \r\n        )\r\n    }\r\n}","import React, {Component} from \"react\"\r\nexport default class Search extends Component\r\n{    constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n        search: \"\"\r\n    };\r\n}\r\n\r\nhandleInputChange = e => {\r\n    this.setState({search: e.target.value});\r\n}\r\n\r\nhandleSearchClick = () => {\r\n    this.props.handleSearchChange(this.state.search);\r\n}\r\n\r\n    render()\r\n    {   \r\n    \r\n        return(\r\n            <div id = \"searchBox\">\r\n            <input type = \"text\" placeholder = \"Search🔎\" value={this.state.search} onChange={this.handleInputChange}/><input class=\"green-button\" type=\"button\" name=\"search\" value=\"Search\" onClick={this.handleSearchClick}/>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from \"react\"\r\nexport default class Sort extends Component {\r\n\r\n    \r\n    render() {\r\n\r\n        let SortButton = <button className=\"button\" type=\"button\" id=\"sort-btn\" onClick={this.props.handleSortClick}>{this.props.switchKey}</button>\r\n\r\n        return (\r\n            <div className=\"inpt-tags\">\r\n                \r\n                <select onClick={this.props.handleSortChange}>{this.props.sortColumn.map(stuff => <option key={stuff} value={stuff}>{stuff}</option>)}</select>\r\n                {SortButton}\r\n            </div>\r\n        )\r\n    }\r\n}","import React, {Component} from \"react\"\r\nimport {Redirect, Link} from \"react-router-dom\"\r\nimport axios from \"axios\"\r\n\r\nimport LinkInClass from \"../components/LinkInClass\"\r\nimport {ACCESS_LEVEL_GUEST, ACCESS_LEVEL_ADMIN, SERVER_HOST} from \"../config/global_constants\"\r\n\r\nimport CarTable from \"./CarTable\"\r\nimport Login from \"./Login\"\r\nimport Logout from \"./Logout\"\r\nimport Search from \"./Search\"\r\nimport Sort from \"./Sort\"\r\nimport NavBar from \"./NavBar\"\r\nimport Footer from \"./Footer\"\r\n\r\n\r\nexport default class Stock extends Component\r\n{\r\n    constructor(props) \r\n    {\r\n        super(props)\r\n        \r\n        this.state = {\r\n            shoes:[],\r\n            searchBy: \"name\",\r\n            attributes: [\"name\", \"brand\", \"category\", \"price\"],\r\n            selectedShoes: [],\r\n            sortBy: \"name\",\r\n            sortSwitch: true,\r\n            switchKey: \"Asc ▲\"\r\n        }\r\n    }\r\n    \r\n    \r\n    componentDidMount() \r\n    {\r\n        axios.get(`${SERVER_HOST}/cars`)\r\n        .then(res => \r\n        {\r\n            if(res.data)\r\n            {\r\n                if (res.data.errorMessage)\r\n                {\r\n                    console.log(res.data.errorMessage)    \r\n                }\r\n                else\r\n                {           \r\n                    console.log(\"Records read\")   \r\n                    this.setState({shoes: res.data,\r\n                                   selectedShoes: res.data}) \r\n                }   \r\n            }\r\n            else\r\n            {\r\n                console.log(\"Record not found\")\r\n            }\r\n        })\r\n    }\r\n    \r\n        handleChange = e => {\r\n        this.setState({ searchBy: e.target.value })\r\n    }\r\n    \r\n        handleSearchChange = e => {\r\n\r\n        let x = this.state.searchBy\r\n\r\n        if (!(e.target.value === \"\")) {\r\n\r\n\r\n            this.setState({ selectedShoes: this.state.selectedShoes.filter(finder => finder.name.toUpperCase().includes(e.target.value.toUpperCase()) || finder.brand.toUpperCase().includes(e.target.value.toUpperCase()) || finder.category.toUpperCase().includes(e.target.value.toUpperCase())|| finder.gender.toUpperCase().includes(e.target.value.toUpperCase())) });\r\n        }\r\n        else\r\n            this.setState({ selectedShoes: this.state.shoes })\r\n\r\n    }\r\n    \r\n        handleSortClick = e => {\r\n        let sortDirection\r\n        if (this.state.sortSwitch) {\r\n            sortDirection = 1\r\n            this.setState({ switchKey: \"Desc ▼\" })\r\n        }\r\n        else {\r\n            sortDirection = -1\r\n            this.setState({ switchKey: \"Asc ▲\" })\r\n        }\r\n\r\n        this.setState({ selectedShoes: this.state.selectedShoes.sort((a, b) => a[this.state.sortBy] < b[this.state.sortBy] ? -sortDirection : sortDirection) })\r\n        this.setState({ sortSwitch: !this.state.sortSwitch })\r\n    }\r\n    \r\n    \r\n    handleSortChange = e => {\r\n        this.setState({ sortBy: e.target.value })\r\n    }\r\n    \r\n    render()\r\n    {\r\n        return (\r\n                <div className=\"form-container\">\r\n                    <div class=\"navbar-container\">\r\n                        <NavBar/>\r\n                    </div> <br/> <br/> <br/>\r\n                \r\n                    {localStorage.accessLevel > ACCESS_LEVEL_GUEST ?\r\n                                    null\r\n                            :\r\n                                    <div>\r\n                                    <h1>Authentification Required!</h1>\r\n                                    <p>Please Sign In!</p>\r\n                                        <Link className=\"green-button\" to={\"/Login\"}>Login</Link>\r\n                                        <br/><br/><br/></div>\r\n                    }\r\n                \r\n                    {localStorage.accessLevel >= ACCESS_LEVEL_ADMIN ?\r\n                                    <div className=\"admin-controls\"><center>\r\n                                        <div className=\"search-sort\">\r\n                                    <Search handleSearchChange={this.handleSearchChange} handleChange={this.handleChange}/>\r\n                                        <Sort sortSwitch={this.state.sortSwitch} switchKey={this.state.switchKey} handleSortChange={this.handleSortChange} handleSortClick={this.handleSortClick} sortColumn={this.state.attributes} />\r\n                                        </div><br></br>\r\n                                        <Link className=\"blue-button\" to={\"/AddCar\"}>Add New Shoe</Link>\r\n                                        </center></div>\r\n\r\n                            :\r\n                            null\r\n                    }\r\n                \r\n                    {localStorage.accessLevel >= ACCESS_LEVEL_ADMIN ?\r\n                                        <div className=\"table-container\"><center>\r\n                                            <CarTable cars={this.state.selectedShoes} />\r\n                                            </center></div>\r\n\r\n                            :\r\n                            null\r\n                    }\r\n                \r\n                    <Footer/>\r\n                </div>\r\n                )\r\n    }\r\n}\r\n\r\n\r\n","import React, {Component} from \"react\"\r\nimport {Redirect, Link} from \"react-router-dom\"\r\n\r\n\r\nimport axios from \"axios\"\r\n\r\nimport LinkInClass from \"../components/LinkInClass\"\r\n\r\nimport {ACCESS_LEVEL_ADMIN, SERVER_HOST} from \"../config/global_constants\"\r\n\r\nimport NavBar from \"./NavBar\"\r\nimport Footer from \"./Footer\"\r\n\r\n\r\nexport default class AddCar extends Component\r\n{\r\n    constructor(props)\r\n    {\r\n        super(props)\r\n\r\n        this.state = {\r\n            name: ``,\r\n            brand: ``,\r\n            gender: ``,\r\n            color: ``,\r\n            category: ``,\r\n            price: ``,\r\n            stock: ``,\r\n            size:\"\",\r\n            sizes:[\"\"],\r\n            selectedFiles:null,\r\n            redirectToDisplayAllCars:localStorage.accessLevel < ACCESS_LEVEL_ADMIN\r\n        }\r\n    }\r\n\r\n\r\n    componentDidMount() \r\n    {     \r\n        this.inputToFocus.focus()        \r\n    }\r\n \r\n \r\n    handleChange = (e) => \r\n    {\r\n        this.setState({[e.target.name]: e.target.value})\r\n    }\r\n    \r\n    handleFileChange = (e) => \r\n    {\r\n        this.setState({selectedFiles: e.target.files})\r\n    }\r\n    \r\n    handleSubmit = (e) => \r\n    {\r\n        e.preventDefault()\r\n\r\n        this.setState({ wasSubmittedAtLeastOnce: true });\r\n\r\n        const formInputsState = this.validate();\r\n        \r\n        if (Object.keys(formInputsState).every(index => formInputsState[index])) \r\n        {\r\n            const carObject = {\r\n                model: this.state.model,\r\n                colour: this.state.colour,\r\n                stock: this.state.stock,\r\n                price: this.state.price,\r\n                wasSubmittedAtLeastOnce: false\r\n            }\r\n\r\n            axios.post(`${SERVER_HOST}/cars`, carObject)\r\n            .then(res => \r\n            {   \r\n                if(res.data)\r\n                {\r\n                    if (res.data.errorMessage)\r\n                    {\r\n                        console.log(res.data.errorMessage)    \r\n                    }\r\n                    else\r\n                    {   \r\n                        console.log(\"Record added\")\r\n                        this.setState({redirectToDisplayAllCars:true})\r\n                    } \r\n                }\r\n                else\r\n                {\r\n                    console.log(\"Record not added\")\r\n                }\r\n            })\r\n        }\r\n\r\n        let formData = new FormData()  \r\n\r\n        formData.append(\"name\", this.state.name)\r\n        formData.append(\"brand\", this.state.brand)\r\n        formData.append(\"gender\", this.state.gender)\r\n        formData.append(\"color\", this.state.color)\r\n        formData.append(\"category\", this.state.category) \r\n        formData.append(\"price\", this.state.price) \r\n        formData.append(\"items_left\", this.state.stock)\r\n        formData.append(\"imageURL\", null)\r\n        this.state.sizes.forEach(size => {\r\n            formData.append(\"sizes\", size)\r\n        })\r\n        \r\n        if(this.state.selectedFiles)\r\n        {\r\n            for(let i = 0; i < this.state.selectedFiles.length; i++)\r\n            {\r\n                formData.append(\"shoePhotos\", this.state.selectedFiles[i])\r\n            }\r\n        }\r\n\r\n\r\n        // const carObject = {\r\n        //     name: this.state.name,\r\n        //     brand: this.state.brand,\r\n        //     gender: this.state.gender,\r\n        //     category: this.state.category,\r\n        //     price: this.state.price,\r\n        //     items_left: this.state.stock,\r\n        // }\r\n\r\n        axios.post(`${SERVER_HOST}/cars`, formData, {headers:{\"authorization\":localStorage.token}})\r\n        .then(res => \r\n        {   \r\n            if(res.data)\r\n            {\r\n                if (res.data.errorMessage)\r\n                {\r\n                    console.log(res.data.errorMessage)    \r\n                }\r\n                else\r\n                {   \r\n                    console.log(\"Record added\")\r\n                    this.setState({redirectToDisplayAllCars:true})\r\n                } \r\n            }\r\n            else\r\n            {\r\n                console.log(\"Record not added\")\r\n            }\r\n        })\r\n    }\r\n\r\n    validateName()\r\n    {    \r\n        //Not empty\r\n        return this.state.name !== \"\";\r\n    }\r\n    \r\n    \r\n    validateBrand()\r\n    {    \r\n        //Not empty\r\n        return this.state.brand !== \"\";\r\n    }\r\n    \r\n    validatePrice()\r\n    {    \r\n        const price = parseInt(this.state.price)\r\n        return (price >= 10 && price <= 1000)\r\n    }\r\n    \r\n    validateStock()\r\n    {    \r\n        const pattern = /^[0-9]{1,6}$/\r\n        return pattern.test(String(this.state.stock))\r\n    }\r\n\r\n    validateColor()\r\n    {    \r\n        //Not empty\r\n        return this.state.color !== \"\";\r\n    }\r\n\r\n    validateCategory()\r\n    {    \r\n        //Not empty\r\n        return this.state.category !== \"\";\r\n    }\r\n\r\n    validateGender()\r\n    {    \r\n        //Not empty\r\n        return this.state.gender !== \"\";\r\n    }\r\n\r\n    validateSize()\r\n    {    \r\n        //Not empty\r\n        return this.state.size !== \"\";\r\n    }\r\n\r\n    validate() \r\n    {\r\n        return {\r\n            name: this.validateName(),\r\n            brand: this.validateBrand(),\r\n            stock: this.validateStock(),\r\n            price: this.validatePrice(),\r\n            color: this.validateColor(),\r\n            category: this.validateCategory(),\r\n            gender: this.validateGender(),\r\n            size: this.validateSize()\r\n        };\r\n    }\r\n\r\n    handleAddSize = () => {\r\n        // Add an empty string to the sizes array\r\n        this.setState(prevState => ({ sizes: [...prevState.sizes, \"\"] }))\r\n    }\r\n\r\n    handleChangeSize = (e, index) => {\r\n        // Update the size at the specified index in the sizes array\r\n        this.setState({size: e.target})\r\n        const { value } = e.target\r\n        this.setState(prevState => ({\r\n            sizes: [\r\n                ...prevState.sizes.slice(0, index),\r\n                value,\r\n                ...prevState.sizes.slice(index + 1)\r\n            ]\r\n        }))\r\n    }\r\n\r\n    render()\r\n    {        \r\n\r\n        let nameError = \"\"\r\n        let brandError = \"\"\r\n        let priceError = \"\"\r\n        let stockError = \"\"\r\n        let colorError = \"\"\r\n        let categoryError = \"\"\r\n        let genderError = \"\"\r\n        let sizeError = \"\"\r\n\r\n        if(this.state.wasSubmittedAtLeastOnce)\r\n        {\r\n\r\n        if (!this.validateName()) {\r\n            nameError = <p class=\"error\">Name can't be empty</p>;\r\n        }\r\n        if (!this.validateBrand()) {\r\n            brandError = <p class=\"error\">Brand can't be empty</p>;\r\n        }\r\n        if (!this.validateColor()) {\r\n            colorError = <p class=\"error\">Color can't be empty</p>;\r\n        }\r\n        if (!this.validatePrice()) {\r\n            priceError = <p class=\"error\">Price must be within valid range(10 - 1000)</p>;\r\n        }\r\n        if (!this.validateStock()) {\r\n            stockError = <p class=\"error\">Must be a positive whole number less than 7 digits</p>;\r\n        }\r\n        if (!this.validateCategory()) {\r\n            categoryError = <p class=\"error\">Category can't be empty</p>;\r\n        }\r\n        if (!this.validateGender()) {\r\n            genderError = <p class=\"error\">Gender can't be empty</p>;\r\n        }\r\n        if (!this.validateSize()) {\r\n            sizeError = <p class=\"error\">Size can't be empty</p>;\r\n        }\r\n    }\r\n\r\n        return (\r\n            <div className=\"form-container\">\r\n\r\n<div class=\"navbar-container\">\r\n<NavBar/> \r\n                        </div> <br/> <br/> <br/> <br/> <br/> <br/> <center>\r\n                    \r\n                <h2 id=\"title2\">Add Shoe</h2> \r\n                {this.state.redirectToDisplayAllCars ? <Redirect to=\"/DisplayAllCars\"/> : null}                                            \r\n                    \r\n                <div>\r\n                    <div controlId=\"model\">\r\n                        <input ref = {(input) => { this.inputToFocus = input }} type=\"text\" name=\"name\" placeholder = \"Name\" value={this.state.name} onChange={this.handleChange} />\r\n                        {\" \"}\r\n                        {nameError}\r\n                    </div>\r\n\r\n                    <div controlId=\"brand\">\r\n                        <input type=\"text\" name=\"brand\" placeholder = \"Brand\" value={this.state.brand} onChange={this.handleChange} />\r\n                        {\" \"}\r\n                        {brandError}\r\n                    </div>\r\n\r\n                    <div controlId=\"gender\">\r\n                        <input type=\"text\" name=\"gender\" placeholder = \"Gender\" value={this.state.gender} onChange={this.handleChange} />\r\n                        {\" \"}\r\n                        {genderError}\r\n                    </div>\r\n                    \r\n                    <div controlId=\"color\">\r\n                        <input type=\"text\" name=\"color\" placeholder = \"Color\" value={this.state.color} onChange={this.handleChange} />\r\n                        {\" \"}\r\n                        {colorError}\r\n                    </div>\r\n\r\n                    <div controlId=\"category\">\r\n                        <input type=\"text\" name=\"category\" placeholder = \"Category\" value={this.state.category} onChange={this.handleChange} />\r\n                        {\" \"}\r\n                        {categoryError}\r\n                    </div>\r\n        \r\n                    <div controlId=\"price\">\r\n                        <input type=\"text\" name=\"price\" placeholder = \"Price\" value={this.state.price} onChange={this.handleChange} />\r\n                        {\" \"}\r\n                        {priceError}\r\n                    </div>\r\n                    \r\n                    <div controlId=\"stock\">\r\n                        <input type=\"text\" name=\"stock\" placeholder = \"Number in Stock\" value={this.state.stock} onChange={this.handleChange} />\r\n                        {\" \"}\r\n                        {stockError}\r\n                    </div>\r\n\r\n                    {this.state.sizes.map((size, index) => (\r\n            <div key={index} controlId={`size-${index}`}>\r\n                <input\r\n                    type=\"text\"\r\n                    name={`size-${index}`}\r\n                    placeholder={`size ${index + 1}`}\r\n                    value={size}\r\n                    onChange={e => this.handleChangeSize(e, index)}\r\n                />\r\n            </div>\r\n        ))}\r\n                        {\" \"}\r\n                        {sizeError}\r\n\r\n<input type=\"button\" value=\"Add size\" onClick={this.handleAddSize}/>\r\n\r\n                    <div controlId=\"photos\">\r\n                    <input          \r\n                        type = \"file\" placeholder = \"Photo\" multiple onChange = {this.handleFileChange}\r\n                    /></div><br></br> \r\n  \r\n                    <LinkInClass value=\"Add\" className=\"green-button\" onClick={this.handleSubmit}/>  \r\n    \r\n                    <Link className=\"red-button\" to={\"/DisplayAllCars\"}>Cancel</Link>\r\n                    </div>\r\n        </center>\r\n                <Footer/>\r\n      </div>\r\n        )\r\n    }\r\n}","import React, {Component} from \"react\"\r\nimport {Redirect, Link} from \"react-router-dom\"\r\nimport axios from \"axios\"\r\n\r\nimport LinkInClass from \"../components/LinkInClass\"\r\n\r\nimport {ACCESS_LEVEL_NORMAL_USER, SERVER_HOST} from \"../config/global_constants\"\r\n\r\nimport NavBar from \"./NavBar\"\r\nimport Footer from \"./Footer\"\r\n\r\nexport default class EditCar extends Component \r\n{\r\n    constructor(props) \r\n    {\r\n        super(props)\r\n\r\n        this.state = {\r\n            name: ``,\r\n            brand: ``,\r\n            gender: ``,\r\n            category: ``,\r\n            price: ``,\r\n            items_left: ``,\r\n            redirectToDisplayAllCars:localStorage.accessLevel < ACCESS_LEVEL_NORMAL_USER\r\n        }\r\n    }\r\n\r\n    componentDidMount() \r\n    {      \r\n        this.inputToFocus.focus()\r\n  \r\n        axios.get(`${SERVER_HOST}/cars/${this.props.match.params.id}`, {headers:{\"authorization\":localStorage.token}})\r\n        .then(res => \r\n        {     \r\n            if(res.data)\r\n            {\r\n                if (res.data.errorMessage)\r\n                {\r\n                    console.log(res.data.errorMessage)    \r\n                }\r\n                else\r\n                { \r\n                    this.setState({\r\n                        name: res.data.name,\r\n                        brand: res.data.brand,\r\n                        gender: res.data.gender,\r\n                        category: res.data.category,\r\n                        price: res.data.price,\r\n                        items_left: res.data.items_left\r\n                    })\r\n                }\r\n            }\r\n            else\r\n            {\r\n                console.log(`Record not found`)\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    handleChange = (e) => \r\n    {\r\n        this.setState({[e.target.name]: e.target.value})\r\n    }\r\n\r\n\r\n    handleSubmit = (e) => \r\n    {\r\n        e.preventDefault()\r\n\r\n        this.setState({ wasSubmittedAtLeastOnce: true });\r\n\r\n        const formInputsState = this.validate();\r\n        \r\n        if (Object.keys(formInputsState).every(index => formInputsState[index])) \r\n        {\r\n            const carObject = {\r\n                model: this.state.model,\r\n                colour: this.state.colour,\r\n                stock: this.state.stock,\r\n                price: this.state.price,\r\n                wasSubmittedAtLeastOnce: false\r\n            }\r\n\r\n            axios.post(`${SERVER_HOST}/cars`, carObject)\r\n            .then(res => \r\n            {   \r\n                if(res.data)\r\n                {\r\n                    if (res.data.errorMessage)\r\n                    {\r\n                        console.log(res.data.errorMessage)    \r\n                    }\r\n                    else\r\n                    {   \r\n                        console.log(\"Record added\")\r\n                        this.setState({redirectToDisplayAllCars:true})\r\n                    } \r\n                }\r\n                else\r\n                {\r\n                    console.log(\"Record not added\")\r\n                }\r\n            })\r\n        }\r\n\r\n        const carObject = {\r\n            name: this.state.name,\r\n            brand: this.state.brand,\r\n            gender: this.state.gender,\r\n            category: this.state.category,\r\n            price: this.state.price,\r\n            items_left: this.state.items_left\r\n        }\r\n\r\n        axios.put(`${SERVER_HOST}/cars/${this.props.match.params.id}`, carObject, {headers:{\"authorization\":localStorage.token}})\r\n        .then(res => \r\n        {             \r\n            if(res.data)\r\n            {\r\n                if (res.data.errorMessage)\r\n                {\r\n                    console.log(res.data.errorMessage)    \r\n                }\r\n                else\r\n                {      \r\n                    console.log(`Record updated`)\r\n                    this.setState({redirectToDisplayAllCars:true})\r\n                }\r\n            }\r\n            else\r\n            {\r\n                console.log(`Record not updated`)\r\n            }\r\n        })\r\n    }\r\n\r\n    validateName()\r\n    {    \r\n        //Not empty\r\n        return this.state.name !== \"\";\r\n    }\r\n    \r\n    \r\n    validateBrand()\r\n    {    \r\n        //Not empty\r\n        return this.state.brand !== \"\";\r\n    }\r\n    \r\n    validatePrice()\r\n    {    \r\n        const price = parseInt(this.state.price)\r\n        return (price >= 10 && price <= 1000)\r\n    }\r\n    \r\n    validateStock()\r\n    {    \r\n        const pattern = /^[0-9]{1,6}$/\r\n        return pattern.test(String(this.state.items_left))\r\n    }\r\n\r\n\r\n    validate() \r\n    {\r\n        return {\r\n            name: this.validateName(),\r\n            brand: this.validateBrand(),\r\n            stock: this.validateStock(),\r\n            price: this.validatePrice()\r\n        };\r\n    }\r\n\r\n    render() \r\n    {\r\n\r\n        let nameError = \"\"\r\n        let brandError = \"\"\r\n        let priceError = \"\"\r\n        let stockError = \"\"\r\n\r\n        if(this.state.wasSubmittedAtLeastOnce)\r\n        {\r\n\r\n        if (!this.validateName()) {\r\n            nameError = <p>Name can't be empty</p>;\r\n        }\r\n        if (!this.validateBrand()) {\r\n            brandError = <p>Brand can't be empty</p>;\r\n        }\r\n        if (!this.validatePrice()) {\r\n            priceError = <p>Price must be within valid range(10 - 1000)</p>;\r\n        }\r\n        if (!this.validateStock()) {\r\n            stockError = <p>Must be a positive whole number less than 7 digits</p>;\r\n        }\r\n    }\r\n\r\n        return (\r\n            <div className=\"form-container\">\r\n\r\n<div class=\"navbar-container\">\r\n<NavBar/> \r\n                        </div> <br/> <br/> <br/> <br/> <br/> <br/> <center>\r\n                    \r\n                <h2 id=\"title2\">Edit Shoe</h2>\r\n    \r\n                {this.state.redirectToDisplayAllCars ? <Redirect to=\"/DisplayAllCars\"/> : null}  \r\n                        \r\n                <div>\r\n                    <div controlId=\"model\">\r\n                        <input ref = {(input) => { this.inputToFocus = input }} type=\"text\" name=\"name\" placeholder = \"Name\" value={this.state.name} onChange={this.handleChange} />\r\n                        {\" \"}\r\n                        {nameError}\r\n                    </div>\r\n\r\n                    <div controlId=\"brand\">\r\n                        <input type=\"text\" name=\"brand\" placeholder = \"Brand\" value={this.state.brand} onChange={this.handleChange} />\r\n                        {\" \"}\r\n                        {brandError}\r\n                    </div>\r\n\r\n                    <div controlId=\"gender\">\r\n                        <input type=\"text\" name=\"gender\" placeholder = \"Gender\" value={this.state.gender} onChange={this.handleChange} />\r\n                    </div>\r\n                    \r\n                    <div controlId=\"category\">\r\n                        <input type=\"text\" name=\"category\" placeholder = \"Category\" value={this.state.category} onChange={this.handleChange} />\r\n                    </div>\r\n        \r\n                    <div controlId=\"price\">\r\n                        <input type=\"text\" name=\"price\" placeholder = \"Price\" value={this.state.price} onChange={this.handleChange} />\r\n                        {\" \"}\r\n                        {priceError}\r\n                    </div>\r\n                    \r\n                    <div controlId=\"items_left\">\r\n                        <input type=\"text\" name=\"items_left\" placeholder = \"Number in Stock\" value={this.state.items_left} onChange={this.handleChange} />\r\n                        {\" \"}\r\n                        {stockError}\r\n                    </div><br></br>\r\n  \r\n                    <LinkInClass value=\"Update\" className=\"green-button\" onClick={this.handleSubmit}/>  \r\n    \r\n                    <Link className=\"red-button\" to={\"/DisplayAllCars\"}>Cancel</Link>\r\n                    </div>\r\n        </center>\r\n                <Footer/>\r\n      </div>\r\n        )\r\n    }\r\n}","import React, { Component } from \"react\"\r\nimport { Redirect, Link } from \"react-router-dom\"\r\nimport axios from \"axios\"\r\n\r\nimport LinkInClass from \"../components/LinkInClass\"\r\n\r\nimport { ACCESS_LEVEL_NORMAL_USER, SERVER_HOST } from \"../config/global_constants\"\r\n\r\nimport NavBar from \"./NavBar\"\r\nimport Footer from \"./Footer\"\r\n\r\nexport default class EditCar extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            name: ``,\r\n            email: ``,\r\n            // gender: ``,\r\n            cart_item: ``,\r\n            profilePhotoFilename: ``,\r\n            items_left: ``,\r\n            redirectToDisplayAllCars: localStorage.accessLevel < ACCESS_LEVEL_NORMAL_USER\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.inputToFocus.focus()\r\n\r\n        axios.get(`${SERVER_HOST}/users/${this.props.match.params.id}`, { headers: { \"authorization\": localStorage.token } })\r\n            .then(res => {\r\n                if (res.data) {\r\n                    if (res.data.errorMessage) {\r\n                        console.log(res.data.errorMessage)\r\n                    }\r\n                    else {\r\n                        console.log(res.data)\r\n                        this.setState({\r\n                            name: res.data.name,\r\n                            email: res.data.email,\r\n                            gender: res.data.gender,\r\n                            cart_item: res.data.cart_item,\r\n                            profilePhotoFilename: res.data.profilePhotoFilename\r\n                        })\r\n                    }\r\n                }\r\n                else {\r\n                    console.log(`Record not found`)\r\n                }\r\n            })\r\n    }\r\n\r\n\r\n    handleChange = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value })\r\n    }\r\n\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        \r\n        this.setState({ wasSubmittedAtLeastOnce: true });\r\n\r\n        const formInputsState = this.validate();\r\n        console.log(this.state.profilePhoto)\r\n\r\n        if (Object.keys(formInputsState).every(index => formInputsState[index])) {\r\n            const carObject = {\r\n                model: this.state.model,\r\n                colour: this.state.colour,\r\n                stock: this.state.stock,\r\n                price: this.state.price,\r\n                wasSubmittedAtLeastOnce: false\r\n            }\r\n\r\n            axios.post(`${SERVER_HOST}/cars`, carObject)\r\n                .then(res => {\r\n                    if (res.data) {\r\n                        if (res.data.errorMessage) {\r\n                            console.log(res.data.errorMessage)\r\n                        }\r\n                        else {\r\n                            console.log(\"Record added\")\r\n                            this.setState({ redirectToDisplayAllCars: true })\r\n                        }\r\n                    }\r\n                    else {\r\n                        console.log(\"Record not added\")\r\n                    }\r\n                })\r\n        }\r\n\r\n        const carObject = {\r\n            name: this.state.name,\r\n            email: this.state.email,\r\n            // gender: this.state.gender,\r\n            cart_item: this.state.cart_item,\r\n            // price: this.state.price,\r\n            profilePhotoFilename: this.state.profilePhotoFilename\r\n        }\r\n\r\n        axios.put(`${SERVER_HOST}/users/${this.props.match.params.id}`, carObject, { headers: { \"authorization\": localStorage.token } })\r\n            .then(res => {\r\n                if (res.data) {\r\n                    if (res.data.errorMessage) {\r\n                        console.log(res.data.errorMessage)\r\n                    }\r\n                    else {\r\n                        console.log(`Record updated`)\r\n                        this.setState({ redirectToDisplayAllCars: true })\r\n                    }\r\n                }\r\n                else {\r\n                    console.log(`Record not updated`)\r\n                }\r\n            })\r\n    }\r\n\r\n    validateName() {\r\n        //Not empty\r\n        return this.state.name !== \"\";\r\n    }\r\n\r\n\r\n    validateEmail() {\r\n        //Not empty\r\n        return this.state.email !== \"\";\r\n    }\r\n\r\n    validateCartItem() {\r\n        const items = parseInt(this.state.cart_item)\r\n        return ( items>= 0)\r\n    }\r\n\r\n    // validateStock() {\r\n    //     const pattern = /^[0-9]{1,6}$/\r\n    //     return pattern.test(String(this.state.items_left))\r\n    // }\r\n\r\n\r\n    validate() {\r\n        return {\r\n            name: this.validateName(),\r\n            brand: this.validateEmail()\r\n            // stock: this.validateStock(),\r\n            // price: this.validatePrice()\r\n        };\r\n    }\r\n\r\n\r\n    resetCart = (e) =>{\r\n        this.setState({cart_item:0})\r\n        axios.delete(`${SERVER_HOST}/cartdelete/${this.state.email}`)\r\n        .then(res =>\r\n        {\r\n\r\n            if (res.data)\r\n            {\r\n                if (res.data.errorMessage)\r\n                {\r\n                    console.log(res.data.errorMessage)\r\n                } else\r\n                {\r\n                    console.log('cart reseted')\r\n//                            this.setState({cars: res.data})\r\n                }\r\n            } else\r\n            {\r\n                console.log(\"cart not reseted\")\r\n            }\r\n        })\r\n        window.alert(\"Cart Reseted click Update to confirm\");\r\n    }\r\n\r\n    resetProfilePhoto = (e) =>{\r\n        this.setState({profilePhotoFilename:null})\r\n        console.log(\"profilePhoto\" + this.state.profilePhotoFilename)\r\n        window.alert(\"Profile Photo Reseted click Update to confirm\");\r\n    }\r\n\r\n    render() {\r\n\r\n        let nameError = \"\"\r\n        let brandError = \"\"\r\n        let priceError = \"\"\r\n        let stockError = \"\"\r\n\r\n        if (this.state.wasSubmittedAtLeastOnce) {\r\n\r\n            if (!this.validateName()) {\r\n                nameError = <p>Name can't be empty</p>;\r\n            }\r\n            if (!this.validateEmail()) {\r\n                brandError = <p>Brand can't be empty</p>;\r\n            }\r\n            if (!this.validateCartItem()) {\r\n                priceError = <p>Cart item can not be below 0</p>;\r\n            }\r\n            // if (!this.validateStock()) {\r\n            //     stockError = <p>Must be a positive whole number less than 7 digits</p>;\r\n            // }\r\n        }\r\n\r\n        return (\r\n            <div className=\"form-container\">\r\n                {console.log(this.state.profilePhotoFilename)}\r\n                <div class=\"navbar-container\">\r\n                    <NavBar />\r\n                </div> <br /> <br /> <br /> <br /> <br /> <br /> <center>\r\n\r\n                    <h2 id=\"title2\">Edit User</h2>\r\n\r\n                    {this.state.redirectToDisplayAllCars ? <Redirect to=\"/Users\" /> : null}\r\n\r\n                    <div>\r\n                        <div controlId=\"model\">\r\n                            <input ref={(input) => { this.inputToFocus = input }} type=\"text\" name=\"name\" placeholder=\"Name\" value={this.state.name} onChange={this.handleChange} />\r\n                            {\" \"}\r\n                            {nameError}\r\n                        </div>\r\n\r\n                        <div controlId=\"brand\">\r\n                            <input type=\"text\" name=\"brand\" placeholder=\"Brand\" value={this.state.email} onChange={this.handleChange} />\r\n                            {\" \"}\r\n                            {brandError}\r\n                        </div>\r\n\r\n                        {/* <div controlId=\"gender\">\r\n                            <input type=\"text\" name=\"gender\" placeholder=\"Gender\" value={this.state.cart_item} onChange={this.handleChange} />\r\n                        </div> */}\r\n\r\n                    <br></br>\r\n\r\n                        <LinkInClass value=\"Update\" className=\"green-button\" onClick={this.handleSubmit} />\r\n                        <Link className=\"red-button\" onClick={this.resetProfilePhoto}>Reset Profile Photo</Link>\r\n                        <Link className=\"red-button\" onClick={this.resetCart}>Reset Cart</Link>\r\n\r\n                        <Link className=\"red-button\" to={\"/Users\"}>Cancel</Link>\r\n                    </div>\r\n                </center>\r\n                <Footer />\r\n            </div>\r\n        )\r\n    }\r\n}","import React, {Component} from \"react\"\r\nimport {Redirect} from \"react-router-dom\"\r\nimport axios from \"axios\"\r\n\r\nimport {SERVER_HOST} from \"../config/global_constants\"\r\n\r\n\r\nexport default class DeleteCar extends Component \r\n{\r\n    constructor(props) \r\n    {\r\n        super(props)\r\n        \r\n        this.state = {\r\n            redirectToDisplayAllCars:false\r\n        }\r\n    }\r\n    \r\n    \r\n    componentDidMount() \r\n    {   \r\n        axios.delete(`${SERVER_HOST}/cars/${this.props.match.params.id}`,{headers:{\"authorization\":localStorage.token}})\r\n        .then(res => \r\n        {\r\n            if(res.data)\r\n            {\r\n                if (res.data.errorMessage)\r\n                {\r\n                    console.log(res.data.errorMessage)    \r\n                }\r\n                else // success\r\n                { \r\n                    console.log(\"Record deleted\")\r\n                }\r\n                this.setState({redirectToDisplayAllCars:true})\r\n            }\r\n            else \r\n            {\r\n                console.log(\"Record not deleted\")\r\n            }\r\n        })\r\n    }\r\n  \r\n  \r\n    render() \r\n    {\r\n        return (\r\n            <div>   \r\n                {this.state.redirectToDisplayAllCars ? <Redirect to=\"/DisplayAllCars\"/> : null}                      \r\n            </div>\r\n        )\r\n    }\r\n}","import React, {Component} from \"react\"\r\nimport {Redirect} from \"react-router-dom\"\r\nimport axios from \"axios\"\r\n\r\nimport {SERVER_HOST} from \"../config/global_constants\"\r\n\r\n\r\nexport default class DeleteCar extends Component \r\n{\r\n    constructor(props) \r\n    {\r\n        super(props)\r\n        \r\n        this.state = {\r\n            redirectToDisplayAllCars:false\r\n        }\r\n    }\r\n    \r\n    \r\n    componentDidMount() \r\n    {   \r\n        axios.delete(`${SERVER_HOST}/users/${this.props.match.params.id}`,{headers:{\"authorization\":localStorage.token}})\r\n        .then(res => \r\n        {\r\n            console.log(res.data)\r\n            if(res.data)\r\n            {\r\n                if (res.data.errorMessage)\r\n                {\r\n                    console.log(res.data.errorMessage)    \r\n                }\r\n                else // success\r\n                { \r\n                    console.log(\"Record deleted\")\r\n                }\r\n                this.setState({redirectToDisplayAllCars:true})\r\n            }\r\n            else \r\n            {\r\n                console.log(\"Record not deleted\")\r\n            }\r\n        })\r\n    }\r\n  \r\n  \r\n    render() \r\n    {\r\n        console.log(\"delet user page\")\r\n        return (\r\n            \r\n            <div>   \r\n                {this.state.redirectToDisplayAllCars ? <Redirect to=\"/Users\"/> : null}                      \r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from \"react\"\r\n\r\nexport default class Filter extends Component {\r\n  render() {\r\n    const shoes = this.props.shoes\r\n    const genders = [...new Set(shoes.map(shoe => shoe.gender))]; // Get unique genders from the data\r\n    const brands = [...new Set(shoes.map(shoe => shoe.brand))];\r\n    const colors = [...new Set(shoes.map(shoe => shoe.color))];\r\n    const categories = [...new Set(shoes.map(shoe => shoe.category))];\r\n\r\n    return (\r\n      <div className=\"filter-container\">\r\n        <div>\r\n          <span className=\"filter-heading\">Filter by Gender: </span><br></br>\r\n          {genders.map(gender => (\r\n            <label key={gender}>\r\n              <input type=\"checkbox\" name=\"genders\" value={gender} onChange={this.props.handleFilterChange} />\r\n              {gender}\r\n              <br></br></label>\r\n          ))}\r\n        </div><br></br>\r\n\r\n        <div>\r\n        <span className=\"filter-heading\">Filter by Brand: </span><br></br>\r\n          {brands.map(brand => (\r\n            <label key={brand}>\r\n              <input type=\"checkbox\" name=\"brands\" value={brand} onChange={this.props.handleFilterChange} />\r\n              {brand}\r\n              <br></br></label>\r\n          ))}\r\n        </div><br></br>\r\n\r\n        <div>\r\n        <span className=\"filter-heading\">Filter by Color: </span><br></br>\r\n          {colors.map(color => (\r\n            <label key={color}>\r\n              <input type=\"checkbox\" name=\"colors\" value={color} onChange={this.props.handleFilterChange} />\r\n              {color}\r\n              <br></br></label>\r\n          ))}\r\n        </div><br></br>\r\n\r\n        <div>\r\n        <span className=\"filter-heading\">Filter by Category: </span><br></br>\r\n          {categories.map(category => (\r\n            <label key={category}>\r\n              <input type=\"checkbox\" name=\"categories\" value={category} onChange={this.props.handleFilterChange} />\r\n              {category}\r\n              <br></br></label>\r\n          ))}\r\n        </div><br></br>\r\n        </div>\r\n    )\r\n  }\r\n}\r\n","import React, {Component} from \"react\"\r\nimport {Link} from \"react-router-dom\"\r\nimport axios from \"axios\"\r\n\r\nimport {ACCESS_LEVEL_GUEST, ACCESS_LEVEL_ADMIN,SERVER_HOST} from \"../config/global_constants\"\r\n\r\nexport default class ShoeTableElement extends Component\r\n{\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            imageFiles:[],\r\n            embeddedImage:false        \r\n        }\r\n    }\r\n    componentDidMount(){\r\n        console.log(\"get from file\")\r\n        let imageFiles = []\r\n        this.props.car.photos.map(photo => {\r\n          return axios.get(`${SERVER_HOST}/cars/photo/${photo.filename}`)\r\n            .then(res => {\r\n              if (res.data) {\r\n                console.log(res.data)\r\n                if (res.data.errorMessage) {\r\n                  console.log(res.data.errorMessage)\r\n                }\r\n                else {\r\n                  if (res.data.image != null) {\r\n                    \r\n                    // console.log( document.getElementById(photo._id) )\r\n                    imageFiles.push(`data:;base64,${res.data.image}`)\r\n                    this.setState({embeddedImage:true, imageFiles: imageFiles })\r\n                  }\r\n                  else {\r\n                    console.log(\"no embedded image\")\r\n                  }\r\n                  // console.log(`data:;base64,${res.data.image}` )                                                     \r\n                }\r\n              }\r\n              else {\r\n                console.log(\"Record not found\")\r\n              }\r\n            })\r\n        })\r\n        // window.location.reload(false);\r\n    }\r\n    render()\r\n    {\r\n        console.log(this.state.imageFiles)\r\n        return (\r\n                <table className = \"shoe\">\r\n                    <tr>\r\n                    <td><h5>{this.props.car.name}</h5></td>\r\n                    </tr>\r\n                    { !this.state.embeddedImage ?\r\n                    <tr>\r\n                    <Link to={`/Product?shoeID=${this.props.car._id}`}><td><img src={this.props.car.imageURL} alt={this.props.car.name} className=\"shoeImage\"></img></td></Link>\r\n                    </tr>\r\n                    : \r\n                    <tr>\r\n                    <Link to={`/Product?shoeID=${this.props.car._id}`}><td><img src={this.state.imageFiles[0]} alt={this.props.car.name} className=\"shoeImage\"></img></td></Link>\r\n                    </tr>\r\n                    }\r\n                    <tr>\r\n                        <td>{this.props.car.brand} &nbsp; €{this.props.car.price}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>\r\n                            <div className=\"shoeButtons\">\r\n                            {localStorage.accessLevel > ACCESS_LEVEL_GUEST ? <Link className=\"green-button\" to={\"/EditCar/\" + this.props.car._id}>Edit</Link> : null}\r\n                \r\n                            {localStorage.accessLevel >= ACCESS_LEVEL_ADMIN ? <Link className=\"red-button\" to={\"/DeleteCar/\" + this.props.car._id}>Delete</Link> : null}   \r\n                            </div>\r\n                        \r\n                        </td>\r\n                    </tr>\r\n                    <tr>\r\n                    </tr>\r\n                </table>\r\n                )\r\n    }\r\n}","import React, {Component} from \"react\"\r\nimport ShoeTableElement from \"./ShoeTableElement\"\r\n\r\n\r\nexport default class ShoeTable extends Component \r\n{\r\n    render() \r\n    {\r\n        return (\r\n                <div>\r\n                    {this.props.cars.map((car) => <ShoeTableElement key={car._id} car={car}/>)}\r\n                </div>     \r\n        )\r\n    }\r\n}","import React, { Component } from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport axios from \"axios\"\r\nimport Filter from \"./Filter\"\r\nimport CarTable from \"./CarTable\"\r\nimport ShoeTable from \"./ShoeTable\"\r\nimport Logout from \"./Logout\"\r\nimport Search from \"./Search\"\r\nimport Sort from \"./Sort\"\r\nimport NavBar from \"./NavBar\"\r\nimport Footer from \"./Footer\"\r\nimport { ACCESS_LEVEL_GUEST, ACCESS_LEVEL_ADMIN, SERVER_HOST } from \"../config/global_constants\"\r\n\r\n// Get day of the week for Tuesday Discounts\r\nconst today = new Date();\r\nconst dayOfWeek = today.getDay()\r\n\r\nexport default class DisplayAllCars extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"form-container\">\r\n                <div class=\"navbar-container\">\r\n                    <NavBar />\r\n                </div><br /><br /><br />\r\n                <center>\r\n                    <h1 id=\"title2\">Rob's Shoe Exchange</h1>\r\n                    <h2>Step into Style and Comfort with Rob's Shoe Exchange!</h2>\r\n                    <p>Welcome to Rob's Shoe Exchange, the premier online destination for footwear lovers everywhere! At Rob's, we know that finding the perfect pair of shoes can make all the difference in your day-to-day life. That's why we've curated a vast selection of high-quality shoes from the world's top brands, all available to browse and purchase from the comfort of your own home. Whether you're looking for stylish sneakers, comfortable work shoes, or anything in between, we've got you covered. With competitive prices, fast shipping, and unparalleled customer service, Rob's Shoe Exchange is your one-stop-shop for all your footwear needs. So why wait? Start exploring our collection today and step up your shoe game!</p><br></br>\r\n                    \r\n                    {dayOfWeek === 2 ? // if today is tuesday it announce the tuesday Sale\r\n                        <div><h1 id=\"title2\">Tuesday Sale!</h1>\r\n                            <h2>10% Discount on all Purchases at Checkout!</h2><br></br>\r\n                            <Link className=\"blue-button\" to={\"/DisplayAllCars\"}>View Store</Link></div>\r\n\r\n                        :\r\n                        null\r\n\r\n                    }\r\n                    \r\n                    \r\n                    <h1 id=\"title2\">Featured Items:</h1>\r\n                    <img src = \"https://www.golfdigest.com/content/dam/images/golfdigest/products/2022/3/3/20220302_NikeAirJordanLows1.jpg\" width = \"500px\"></img>\r\n                    <img src = \"https://footwearnews.com/wp-content/uploads/2022/04/DC1975-001-PHCFH001-e1650376499977.png\" width = \"500px\"></img>\r\n                    \r\n                    <br></br>\r\n\r\n                    <div><Link className=\"blue-button\" to={\"/DisplayAllCars\"}>View Store</Link></div>\r\n                    \r\n\r\n                    \r\n\r\n\r\n                    \r\n\r\n                </center>\r\n                <Footer />\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\n\r\nimport axios from \"axios\"\r\nimport Filter from \"./Filter\"\r\nimport CarTable from \"./CarTable\"\r\nimport ShoeTable from \"./ShoeTable\"\r\nimport Logout from \"./Logout\"\r\nimport Search from \"./Search\"\r\nimport Sort from \"./Sort\"\r\nimport NavBar from \"./NavBar\"\r\nimport Footer from \"./Footer\"\r\n\r\nimport { ACCESS_LEVEL_GUEST, ACCESS_LEVEL_ADMIN, SERVER_HOST } from \"../config/global_constants\"\r\n\r\n\r\nexport default class DisplayAllCars extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            shoes: [],\r\n            searchBy: \"name\",\r\n            attributes: [\"name\", \"brand\", \"category\", \"price\"],\r\n            selectedShoes: [],\r\n            sortBy: \"name\",\r\n            sortSwitch: true,\r\n            switchKey: \"Asc ▲\",\r\n            saved: false,\r\n            filters: [],\r\n            selectedBrands: [],\r\n            selectedColors:[],\r\n            selectedGenders: [],\r\n            selectedCategories: [],\r\n            filteredShoes: [],\r\n            sortedShoes: []\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get(`${SERVER_HOST}/cars`)\r\n            .then(res => {\r\n                if (res.data) {\r\n                    if (res.data.errorMessage) {\r\n                        console.log(res.data.errorMessage)\r\n                    }\r\n                    else {\r\n                        console.log(\"Records read\")\r\n                        this.setState({\r\n                            shoes: res.data,\r\n                            selectedShoes: res.data\r\n                        })\r\n                    }\r\n                }\r\n                else {\r\n                    console.log(\"Record not found\")\r\n                }\r\n            })\r\n    }\r\n\r\n    handleChange = e => {\r\n        this.setState({ searchBy: e.target.value })\r\n    }\r\n\r\n    // beforeSearch = e =>{\r\n\r\n    //   if (this.state.undo === true){\r\n    //     this.setState({backup: this.state.selectedShoes})\r\n    //     console.log(this.state.backup)\r\n    //   }\r\n\r\n    //   this.setState({undo: false})\r\n    //   this.handleSearchChange()\r\n\r\n    // }\r\n\r\n    handleSearchChange = e => {\r\n\r\n        if (e === \"\") {\r\n\r\n            if(this.state.filteredShoes.length > 0){\r\n            this.setState({ selectedShoes: this.state.filteredShoes})\r\n            }else if(this.state.sortedShoes.length > 0){\r\n                this.setState({ selectedShoes: this.state.sortedShoes})\r\n            }else{\r\n                this.setState({ selectedShoes: this.state.shoes })\r\n            }\r\n        }\r\n\r\n        else{\r\n            if(this.state.filteredShoes.length > 0){\r\n                this.setState({ selectedShoes: this.state.filteredShoes.filter(finder => finder.name.toUpperCase().includes(e.toUpperCase()) || finder.brand.toUpperCase().includes(e.toUpperCase()) || finder.category.toUpperCase().includes(e.toUpperCase()) || finder.gender.toUpperCase().includes(e.toUpperCase()) || finder.color.toUpperCase().includes(e.toUpperCase())) });\r\n                }else if(this.state.sortedShoes.length > 0){\r\n                    this.setState({ selectedShoes: this.state.sortedShoes.filter(finder => finder.name.toUpperCase().includes(e.toUpperCase()) || finder.brand.toUpperCase().includes(e.toUpperCase()) || finder.category.toUpperCase().includes(e.toUpperCase()) || finder.gender.toUpperCase().includes(e.toUpperCase()) || finder.color.toUpperCase().includes(e.toUpperCase())) });\r\n                }else{\r\n                    this.setState({ selectedShoes: this.state.shoes.filter(finder => finder.name.toUpperCase().includes(e.toUpperCase()) || finder.brand.toUpperCase().includes(e.toUpperCase()) || finder.category.toUpperCase().includes(e.toUpperCase()) || finder.gender.toUpperCase().includes(e.toUpperCase()) || finder.color.toUpperCase().includes(e.toUpperCase())) });\r\n                }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    handleSortClick = e => {\r\n        let sortDirection\r\n        if (this.state.sortSwitch) {\r\n            sortDirection = 1\r\n            this.setState({ switchKey: \"Desc ▼\" })\r\n        }\r\n        else {\r\n            sortDirection = -1\r\n            this.setState({ switchKey: \"Asc ▲\" })\r\n        }\r\n\r\n        this.setState({ selectedShoes: this.state.selectedShoes.sort((a, b) => a[this.state.sortBy] < b[this.state.sortBy] ? -sortDirection : sortDirection) })\r\n        this.setState({ sortSwitch: !this.state.sortSwitch })\r\n        this.setState({ sortedShoes: this.state.selectedShoes.sort((a, b) => a[this.state.sortBy] < b[this.state.sortBy] ? -sortDirection : sortDirection) })\r\n    }\r\n\r\n\r\n    handleSortChange = e => {\r\n        this.setState({ sortBy: e.target.value })\r\n    }\r\n\r\n    handleFilterChange = (e) => {\r\n        const selectedValue = e.target.value;\r\n        const isChecked = e.target.checked;\r\n        const { selectedBrands, selectedColors, selectedGenders, selectedCategories } = this.state;\r\n\r\n        if (e.target.name === \"brands\") {\r\n            if (isChecked) {\r\n                const updatedBrands = [...selectedBrands, selectedValue];\r\n                this.setState({ selectedBrands: updatedBrands }, this.applyFilters);\r\n            } else {\r\n                const unfilteredBrands = selectedBrands.filter((brand) => brand !== selectedValue);\r\n                this.setState({ selectedBrands: unfilteredBrands }, this.applyFilters);\r\n            }\r\n        } else if (e.target.name === \"colors\") {\r\n            if (isChecked) {\r\n                const updatedColors = [...selectedColors, selectedValue];\r\n                this.setState({ selectedColors: updatedColors }, this.applyFilters);\r\n            } else {\r\n                const unfilteredColors = selectedColors.filter((color) => color !== selectedValue);\r\n                this.setState({ selectedColors: unfilteredColors }, this.applyFilters);\r\n            }\r\n        } else if (e.target.name === \"genders\") {\r\n            if (isChecked) {\r\n                const updatedGenders = [...selectedGenders, selectedValue];\r\n                this.setState({ selectedGenders: updatedGenders }, this.applyFilters);\r\n            } else {\r\n                const unfilteredGenders = selectedGenders.filter((gender) => gender !== selectedValue);\r\n                this.setState({ selectedGenders: unfilteredGenders }, this.applyFilters);\r\n            }\r\n        } else if (e.target.name === \"categories\") {\r\n            if (isChecked) {\r\n                const updatedCategories = [...selectedCategories, selectedValue];\r\n                this.setState({ selectedCategories: updatedCategories }, this.applyFilters);\r\n            } else {\r\n                const unfilteredCategories = selectedCategories.filter((category) => category !== selectedValue);\r\n                this.setState({ selectedCategories: unfilteredCategories }, this.applyFilters);\r\n            }\r\n        }\r\n    }\r\n\r\n    applyFilters = () => {\r\n        let filteredShoes = [...this.state.shoes];\r\n\r\n        if (this.state.selectedBrands.length > 0) {\r\n            filteredShoes = filteredShoes.filter(shoe => this.state.selectedBrands.includes(shoe.brand));\r\n        }\r\n\r\n        if (this.state.selectedColors.length > 0) {\r\n            filteredShoes = filteredShoes.filter(shoe => this.state.selectedColors.includes(shoe.color));\r\n        }\r\n\r\n        if (this.state.selectedGenders.length > 0) {\r\n            filteredShoes = filteredShoes.filter(shoe => this.state.selectedGenders.includes(shoe.gender));\r\n        }\r\n\r\n        if (this.state.selectedCategories.length > 0) {\r\n            filteredShoes = filteredShoes.filter(shoe => this.state.selectedCategories.includes(shoe.category));\r\n        }\r\n\r\n        this.setState({ selectedShoes: filteredShoes });\r\n        this.setState({ filteredShoes: filteredShoes });\r\n      }\r\n      \r\n    render() {\r\n        return (\r\n            <div className=\"form-container\">\r\n                <div class=\"navbar-container\">\r\n                    <NavBar />\r\n                </div> <br /> <br /> <br />\r\n                <div className=\"superContainer\">\r\n                    <div className=\"controls\">\r\n \r\n                            <div>\r\n                                <br /> <br />\r\n                                <Search handleSearchChange={this.handleSearchChange} handleChange={this.handleChange} />\r\n                                <Sort sortSwitch={this.state.sortSwitch} switchKey={this.state.switchKey} handleSortChange={this.handleSortChange} handleSortClick={this.handleSortClick} sortColumn={this.state.attributes} />\r\n                                <br></br>\r\n                                <div>\r\n                                    <Filter shoes={this.state.shoes} handleFilterChange={this.handleFilterChange} />\r\n                                </div>\r\n                                <br /></div>\r\n\r\n\r\n                        {localStorage.accessLevel >= ACCESS_LEVEL_ADMIN ?\r\n                            <div className=\"stock\">\r\n                                <Link className=\"blue-button\" to={\"/AddCar\"}>Add New Shoe</Link><br /><br /><br />\r\n                                <Link className=\"blue-button\" to={\"/Stock\"}>View Stock Table</Link>\r\n                            </div>\r\n\r\n                            :\r\n                            null\r\n                        }\r\n                        <br></br>\r\n                    </div>\r\n\r\n\r\n                    <div className=\"controlsMobile\"><center>\r\n                    \r\n                            <div>\r\n                                <div className=\"search-sort\">\r\n                                    <Search handleSearchChange={this.handleSearchChange} handleChange={this.handleChange} />\r\n                                    <Sort sortSwitch={this.state.sortSwitch} switchKey={this.state.switchKey} handleSortChange={this.handleSortChange} handleSortClick={this.handleSortClick} sortColumn={this.state.attributes} />\r\n                                </div><br></br>\r\n                                <br /></div>\r\n\r\n                        {localStorage.accessLevel >= ACCESS_LEVEL_ADMIN ?\r\n                            <div className=\"stock\">\r\n                                <Link className=\"blue-button\" to={\"/AddCar\"}>Add New Shoe</Link>\r\n                                <Link className=\"blue-button\" to={\"/Stock\"}>View Stock Table</Link>\r\n                            </div>\r\n\r\n                            :\r\n                            null\r\n                        }\r\n                        <br></br>\r\n                        </center></div>\r\n\r\n\r\n                    <div className=\"shoe-container\">\r\n                        <ShoeTable cars={this.state.selectedShoes} />\r\n\r\n\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react'\r\nimport {Route, Redirect } from \"react-router-dom\"\r\n\r\nimport {ACCESS_LEVEL_GUEST} from \"../config/global_constants\"\r\n\r\n\r\nconst LoggedInRoute = ({ component: Component, exact, path, ...rest }) => \r\n(\r\n    <Route\r\n        exact = {exact}\r\n        path = {path}\r\n        render = {props => localStorage.accessLevel > ACCESS_LEVEL_GUEST ? <Component {...props} {...rest} /> : <Redirect to=\"/DisplayAllCars\"/> }\r\n    />\r\n)\r\n\r\nexport default LoggedInRoute","import React, {Component} from \"react\"\r\nimport {Redirect, Link} from \"react-router-dom\"\r\n\r\nimport NavBar from \"./NavBar\"\r\nimport Footer from \"./Footer\"\r\n\r\nexport default class PayPalMessage extends Component\r\n{      \r\n    static messageType = {SUCCESS:\"success\", \r\n                          ERROR:\"error\", \r\n                          CANCEL:\"cancel\"}\r\n    \r\n    constructor(props)\r\n    {\r\n        super(props)\r\n        \r\n        this.state = {redirectToDisplayAllCars:false,\r\n                      buttonColour:\"red-button\"}\r\n    }          \r\n    \r\n    \r\n    componentDidMount() \r\n    {     \r\n        console.log(this.props.match.params)\r\n        console.log(\"at paypall messages page\")\r\n        if(this.props.match.params.msessageType === PayPalMessage.messageType.SUCCESS)\r\n        {\r\n            this.setState({heading:\"PayPal Transaction Confirmation\",\r\n                           message:\"Your PayPal transaction was successful.\", \r\n                           buttonColour:\"green-button\"})\r\n        }\r\n        else if(this.props.match.params.msessageType === PayPalMessage.messageType.CANCEL)\r\n        {\r\n            this.setState({heading:\"PayPal Transaction Cancelled\",\r\n                           message:\"You cancelled your PayPal transaction. Therefore, the transaction was not completed.\"})            \r\n        }\r\n        else if(this.props.match.params.msessageType === PayPalMessage.messageType.ERROR)\r\n        {\r\n            this.setState({heading:\"PayPal Transaction Error\",\r\n                           message:\"An error occured when trying to perform your PayPal transaction. The transaction was not completed. Please try to perform your transaction again.\"})     \r\n        }\r\n        else\r\n        {\r\n            console.log(\"The 'messageType' prop that was passed into the PayPalMessage component is invalid. It must be one of the following: PayPalMessage.messageType.SUCCESS, PayPalMessage.messageType.CANCEL or PayPalMessage.messageType.ERROR\") \r\n        }\r\n    }\r\n    \r\n    \r\n    render()\r\n    {                 \r\n        return (\r\n            <div className=\"payPalMessage\">\r\n                <div class=\"navbar-container\">\r\n                    <NavBar />\r\n                </div> <br /> <br /> <br /> <br /> <br /> <br /> <center>\r\n\r\n                    <h2 id=\"title2\">PayPal Payment</h2>\r\n                \r\n                \r\n                \r\n                {this.state.redirectToDisplayAllCars ? <Redirect to=\"/DisplayAllCars\"/> : null} \r\n                \r\n                <h3>{this.state.heading}</h3>\r\n                <p>{this.props.match.params.message}</p>\r\n                <p>{this.state.message}</p>\r\n                \r\n                {this.props.match.params.messageType === PayPalMessage.messageType.SUCCESS ? <p>Your PayPal payment confirmation is <span id=\"payPalPaymentID\">{this.props.match.params.payPalPaymentID}</span></p> : null}\r\n                \r\n                <p id=\"payPalPaymentIDButton\"><Link className={this.state.buttonColour} to={\"/DisplayAllCars\"}>Continue</Link></p>                                     \r\n                </center>\r\n                <Footer />\r\n                </div>\r\n        )\r\n    }\r\n}","import React, { Component } from \"react\"\r\nimport axios from \"axios\"\r\nimport { Redirect } from \"react-router-dom\"\r\n\r\nimport PayPalMessage from \"./PayPalMessage\"\r\n\r\nimport { SANDBOX_CLIENT_ID, SERVER_HOST } from \"../config/global_constants\"\r\nimport { PayPalButtons, PayPalScriptProvider } from \"@paypal/react-paypal-js\"\r\n\r\n\r\nexport default class BuyShoe extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            redirectToPayPalMessage: false,\r\n            payPalMessageType: null,\r\n            payPalOrderID: null,\r\n            name: localStorage.getItem(\"name\"),\r\n            email: localStorage.getItem(\"email\")\r\n        }\r\n    }\r\n\r\n\r\n    createOrder = (data, actions) => {\r\n        return actions.order.create({ purchase_units: [{ amount: { value: this.props.price } }] })\r\n    }\r\n\r\n\r\n    // onApprove = paymentData =>\r\n    // {      \r\n    //     axios.post(`${SERVER_HOST}/sales/${paymentData.paymentID}/${this.props.shoeID}/${this.props.price}/${paymentData.email}`, {headers:{\"authorization\":localStorage.token, \"Content-type\": \"multipart/form-data\"}})\r\n    //     .then(res => \r\n    //     {                   \r\n    //         this.setState({payPalMessageType:PayPalMessage.messageType.SUCCESS, \r\n    //                        payPalPaymentID:paymentData.paymentID, \r\n    //                        redirectToPayPalMessage:true}) \r\n    //     })\r\n    //     .catch(errorData =>\r\n    //     {\r\n    //         console.log(\"PayPal payment unsuccessful error:\", errorData)            \r\n    //         this.setState({payPalMessageType:PayPalMessage.messageType.ERROR, \r\n    //                        redirectToPayPalMessage:true}) \r\n    //     })\r\n    // }\r\n\r\n    onApprove = paymentData => {\r\n\r\n        // let formData = new FormData();\r\n\r\n        // this.props.ids.forEach((item) => {\r\n        //     formData.append('shoesID', item);\r\n        //     console.log(item)\r\n        // });\r\n        // console.log(formData)\r\n        const data = JSON.stringify( this.props.ids)\r\n        const amount = JSON.stringify(this.props.quantity)\r\n        const names = JSON.stringify(this.props.names)\r\n        const images = JSON.stringify(this.props.images)\r\n        const sizes = JSON.stringify(this.props.sizes)\r\n        \r\n\r\n        console.log(\"data\" + data)\r\n        console.log(\"names\" + names)\r\n\r\n        axios.post(`${SERVER_HOST}/sales/${paymentData.orderID}/${data}/${amount}/${sizes}/${names}/${this.state.name}/${this.state.email}/${this.props.price}`,{ headers: { \"authorization\": localStorage.token, \"Content-type\": \"multipart/form-data\" } })\r\n            .then(res => {\r\n                this.setState({\r\n                    payPalMessageType: PayPalMessage.messageType.SUCCESS,\r\n                    payPalOrderID: paymentData.orderID,\r\n                    redirectToPayPalMessage: true\r\n                })\r\n                console.log(\"good\")\r\n                localStorage.cart_item = 0;\r\n               \r\n            })\r\n            .catch(errorData => {\r\n                console.log(\"fail\")\r\n                this.setState({\r\n                    payPalMessageType: PayPalMessage.messageType.ERROR,\r\n                    redirectToPayPalMessage: true\r\n                })\r\n            })\r\n    }\r\n\r\n\r\n\r\n    onError = errorData => {\r\n        console.log(\"PayPal error:\", errorData)\r\n        this.setState({\r\n            payPalMessageType: PayPalMessage.messageType.ERROR,\r\n            redirectToPayPalMessage: true\r\n        })\r\n    }\r\n\r\n\r\n    onCancel = cancelData => {\r\n        // The user pressed the Paypal checkout popup window cancel button or closed the Paypal checkout popup window\r\n        console.log(\"Payment cancelled by user:\", cancelData)\r\n        this.setState({\r\n            payPalMessageType: PayPalMessage.messageType.CANCEL,\r\n            redirectToPayPalMessage: true\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            \r\n            <div>\r\n                {console.log(JSON.stringify(this.props.images))}\r\n                {this.state.redirectToPayPalMessage ? <Redirect to={`/PayPalMessage/${this.state.payPalMessageType}/${this.state.payPalOrderID}`} /> : null}\r\n\r\n                <PayPalScriptProvider options={{ currency: \"EUR\", \"client-id\": SANDBOX_CLIENT_ID }}>\r\n                    <PayPalButtons style={{ layout: \"horizontal\" }} createOrder={this.createOrder} onApprove={this.onApprove} onError={this.onError} onCancel={this.onCancel} />\r\n                </PayPalScriptProvider>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from \"react\"\r\nimport axios from \"axios\"\r\nimport { Redirect } from \"react-router-dom\"\r\n\r\nimport PayPalMessage from \"./PayPalMessage\"\r\n\r\nimport { SANDBOX_CLIENT_ID, SERVER_HOST } from \"../config/global_constants\"\r\nimport { PayPalButtons, PayPalScriptProvider } from \"@paypal/react-paypal-js\"\r\n\r\n\r\nexport default class BuyShoe extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            redirectToPayPalMessage: false,\r\n            payPalMessageType: null,\r\n            payPalOrderID: null,\r\n            name: localStorage.getItem(\"name\"),\r\n            email: localStorage.getItem(\"email\")\r\n        }\r\n    }\r\n\r\n\r\n    createOrder = (data, actions) => {\r\n        return actions.order.create({ purchase_units: [{ amount: { value: this.props.price } }] })\r\n    }\r\n\r\n\r\n    // onApprove = paymentData =>\r\n    // {      \r\n    //     axios.post(`${SERVER_HOST}/sales/${paymentData.paymentID}/${this.props.shoeID}/${this.props.price}/${paymentData.email}`, {headers:{\"authorization\":localStorage.token, \"Content-type\": \"multipart/form-data\"}})\r\n    //     .then(res => \r\n    //     {                   \r\n    //         this.setState({payPalMessageType:PayPalMessage.messageType.SUCCESS, \r\n    //                        payPalPaymentID:paymentData.paymentID, \r\n    //                        redirectToPayPalMessage:true}) \r\n    //     })\r\n    //     .catch(errorData =>\r\n    //     {\r\n    //         console.log(\"PayPal payment unsuccessful error:\", errorData)            \r\n    //         this.setState({payPalMessageType:PayPalMessage.messageType.ERROR, \r\n    //                        redirectToPayPalMessage:true}) \r\n    //     })\r\n    // }\r\n\r\n    onApprove = paymentData => {\r\n\r\n        // let formData = new FormData();\r\n\r\n        // this.props.ids.forEach((item) => {\r\n        //     formData.append('shoesID', item);\r\n        //     console.log(item)\r\n        // });\r\n        // console.log(formData)\r\n        \r\n        const id = this.props.id\r\n        const shoeName = this.props.shoeName\r\n        const size = this.props.size\r\n        const price= this.props.price\r\n        \r\n\r\n\r\n        axios.post(`${SERVER_HOST}/sales/${paymentData.orderID}/${id}/${shoeName}/${this.state.name}/${size}/${this.state.email}/${this.props.price}`,{ headers: { \"authorization\": localStorage.token, \"Content-type\": \"multipart/form-data\" } })\r\n            .then(res => {\r\n                this.setState({\r\n                    payPalMessageType: PayPalMessage.messageType.SUCCESS,\r\n                    payPalOrderID: paymentData.orderID,\r\n                    redirectToPayPalMessage: true\r\n                })\r\n                console.log(\"good\")\r\n                localStorage.cart_item = 0;\r\n               \r\n            })\r\n            .catch(errorData => {\r\n                console.log(\"fail\")\r\n                this.setState({\r\n                    payPalMessageType: PayPalMessage.messageType.ERROR,\r\n                    redirectToPayPalMessage: true\r\n                })\r\n            })\r\n    }\r\n\r\n\r\n\r\n    onError = errorData => {\r\n        console.log(\"PayPal error:\", errorData)\r\n        this.setState({\r\n            payPalMessageType: PayPalMessage.messageType.ERROR,\r\n            redirectToPayPalMessage: true\r\n        })\r\n    }\r\n\r\n\r\n    onCancel = cancelData => {\r\n        // The user pressed the Paypal checkout popup window cancel button or closed the Paypal checkout popup window\r\n        console.log(\"Payment cancelled by user:\", cancelData)\r\n        this.setState({\r\n            payPalMessageType: PayPalMessage.messageType.CANCEL,\r\n            redirectToPayPalMessage: true\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            \r\n            <div>\r\n                {console.log(JSON.stringify(this.state.payPalMessageType))}\r\n                {console.log(this.state.redirectToPayPalMessage)}\r\n                {this.state.redirectToPayPalMessage ? <Redirect to={`/PayPalMessage/${this.state.payPalMessageType}/${this.state.payPalOrderID}`} /> : null}\r\n\r\n                <PayPalScriptProvider options={{ currency: \"EUR\", \"client-id\": SANDBOX_CLIENT_ID }}>\r\n                    <PayPalButtons style={{ layout: \"horizontal\" }} createOrder={this.createOrder} onApprove={this.onApprove} onError={this.onError} onCancel={this.onCancel} />\r\n                </PayPalScriptProvider>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from \"react\"\r\nimport { Redirect, Link } from \"react-router-dom\"\r\nimport NavBar from \"./NavBar\"\r\nimport Footer from \"./Footer\"\r\n\r\nimport axios from \"axios\"\r\n\r\nimport LinkInClass from \"../components/LinkInClass\"\r\nimport { ACCESS_LEVEL_GUEST, ACCESS_LEVEL_NORMAL_USER } from \"../config/global_constants\"\r\n\r\n\r\nimport { ACCESS_LEVEL_ADMIN, SERVER_HOST } from \"../config/global_constants\"\r\n\r\n\r\nexport default class AddCar extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            email: localStorage.getItem(\"name\"),\r\n            picture: null,\r\n            email: ''\r\n        }\r\n    }\r\n\r\n\r\n    // componentDidMount() \r\n    // {     \r\n    //     this.inputToFocus.focus()        \r\n    // }\r\n\r\n\r\n    // handleChange = (e) => \r\n    // {\r\n    //     this.setState({[e.target.name]: e.target.value})\r\n    // }\r\n\r\n    // handleFileChange = (e) => \r\n    // {\r\n    //     this.setState({selectedFiles: e.target.files})\r\n    // }\r\n\r\n\r\n\r\n    // handleSubmit = (e) => \r\n    // {\r\n    //     e.preventDefault()\r\n\r\n    //     let formData = new FormData()  \r\n\r\n    //     formData.append(\"name\", this.state.name)\r\n    //     formData.append(\"brand\", this.state.brand)\r\n    //     formData.append(\"gender\", this.state.gender)\r\n    //     formData.append(\"category\", this.state.category) \r\n    //     formData.append(\"price\", this.state.price) \r\n    //     formData.append(\"items_left\", this.state.stock)\r\n\r\n    //     if(this.state.selectedFiles)\r\n    //     {\r\n    //         for(let i = 0; i < this.state.selectedFiles.length; i++)\r\n    //         {\r\n    //             formData.append(\"shoePhotos\", this.state.selectedFiles[i])\r\n    //         }\r\n    //     }\r\n\r\n\r\n    // const carObject = {\r\n    //     name: this.state.name,\r\n    //     brand: this.state.brand,\r\n    //     gender: this.state.gender,\r\n    //     category: this.state.category,\r\n    //     price: this.state.price,\r\n    //     items_left: this.state.stock,\r\n    // }\r\n\r\n    // axios.post(`${SERVER_HOST}/cars`, formData, {headers:{\"authorization\":localStorage.token}})\r\n    //     .then(res => \r\n    //     {   \r\n    //         if(res.data)\r\n    //         {\r\n    //             if (res.data.errorMessage)\r\n    //             {\r\n    //                 console.log(res.data.errorMessage)    \r\n    //             }\r\n    //             else\r\n    //             {   \r\n    //                 console.log(\"Record added\")\r\n    //                 this.setState({redirectToDisplayAllCars:true})\r\n    //             } \r\n    //         }\r\n    //         else\r\n    //         {\r\n    //             console.log(\"Record not added\")\r\n    //         }\r\n    //     })\r\n    // }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div class=\"navbar-container\">\r\n                <NavBar /> <br /><br /><br /><br />\r\n\r\n                <div id=\"profilePage\">\r\n                    {\r\n\r\n                        localStorage.accessLevel > ACCESS_LEVEL_GUEST\r\n                            ?\r\n\r\n\r\n                            <div id=\"profileContainer\">\r\n\r\n                                {\r\n                                    localStorage.profilePhoto !== \"undefined\" && localStorage.profilePhoto !== \"null\"\r\n                                        ? <div className=\"profilePict\"><img id=\"profilePhoto\" src={`data:;base64,${localStorage.profilePhoto}`} alt=\"\" /></div>\r\n                                        : <div>\r\n\r\n                                            <img id=\"profilePhoto\" src={\"https://png.pngtree.com/png-vector/20191110/ourmid/pngtree-avatar-icon-profile-icon-member-login-vector-isolated-png-image_1978396.jpg\"} alt=\"\" />\r\n                                        </div>\r\n\r\n\r\n                                }\r\n\r\n                                <div id=\"profileName\">\r\n                                    <label>Name :</label>\r\n                                    <p>{localStorage.getItem(\"name\")}</p>\r\n                                </div>\r\n\r\n                                <div id=\"profileEmail\">\r\n                                    <label>Email :</label>\r\n                                    <p>{localStorage.getItem(\"email\")}</p>\r\n                                </div>\r\n\r\n                                {localStorage.accessLevel == ACCESS_LEVEL_NORMAL_USER ? <Link className=\"green-button\" to={\"/PurchaseHistory/\" + localStorage.getItem(\"email\")}>Purchase History</Link> : null}\r\n\r\n                                {localStorage.accessLevel >= ACCESS_LEVEL_ADMIN ? <Link className=\"red-button\" to={\"/Users\"}>Edit Users</Link> : null}\r\n\r\n\r\n                            </div>\r\n\r\n\r\n                            :\r\n                            <div>\r\n\r\n                                <img id=\"profilePhoto\" src={\"./images/profile_picture.png\"} alt=\"\" />\r\n                            </div>\r\n\r\n                    }\r\n\r\n                </div>\r\n\r\n                <Footer />\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport axios from \"axios\"\r\nimport Filter from \"./Filter\"\r\nimport CarTable from \"./CarTable\"\r\nimport ShoeTable from \"./ShoeTable\"\r\nimport Logout from \"./Logout\"\r\nimport Search from \"./Search\"\r\nimport Sort from \"./Sort\"\r\nimport NavBar from \"./NavBar\"\r\nimport Footer from \"./Footer\"\r\nimport { ACCESS_LEVEL_GUEST, ACCESS_LEVEL_ADMIN, SERVER_HOST } from \"../config/global_constants\"\r\n\r\nexport default class ThankYou extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                <div className=\"form-container\">\r\n                    <div class=\"navbar-container\">\r\n                        <NavBar />\r\n                    </div><br/><br/><br/><br/>\r\n                    <center>\r\n                        <h1 id=\"title2\">Thank You!</h1>\r\n                        <h2>Your message has been sent successfully!</h2>\r\n                    </center>\r\n                    <Footer />\r\n                </div>\r\n                )\r\n    }\r\n}","import React, { Component } from \"react\";\r\nimport { Redirect, Link } from \"react-router-dom\"\r\nimport axios from \"axios\";\r\nimport LinkInClass from \"../components/LinkInClass\";\r\n\r\nimport NavBar from \"./NavBar\"\r\nimport Footer from \"./Footer\"\r\nimport ThankYou from \"./ThankYou\"\r\n\r\nexport default class ContactUs extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      name: \"\",\r\n      email: \"\",\r\n      subject: \"\",\r\n      message: \"\",\r\n      nameError: \"\",\r\n      emailError: \"\",\r\n      subjectError: \"\",\r\n      messageError: \"\",\r\n      successMessage: \"\",\r\n      noErrors: true,\r\n      wasSubmittedAtLeastOnce: false,\r\n      redirectToThankYou: false \r\n    };\r\n  }\r\n\r\n  handleInputChange = (event) => {\r\n    const { name, value } = event.target;\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  setFormErrors = () => {\r\n    let nameError = \"\"\r\n    let emailError = \"\"\r\n    let subjectError = \"\"\r\n    let messageError = \"\"\r\n    let noErrors = true\r\n  \r\n    if (!this.validateName()) {\r\n      nameError = <p class=\"error\">Name can't be empty</p>;\r\n      noErrors = false\r\n    }\r\n    if (!this.validateEmail()) {\r\n      emailError = <p class=\"error\">Invalid email</p>;\r\n      noErrors = false\r\n    }\r\n    if (!this.validateSubject()) {\r\n      subjectError = <p class=\"error\">Subject can't be empty</p>;\r\n      noErrors = false\r\n    }\r\n    if (!this.validateMessage()) {\r\n      messageError = <p class=\"error\">Message must have at least 30 characters</p>;\r\n      noErrors = false\r\n    }\r\n  \r\n    this.setState({\r\n      nameError,\r\n      emailError,\r\n      subjectError,\r\n      messageError,\r\n      noErrors,\r\n      wasSubmittedAtLeastOnce: true,\r\n    })\r\n  \r\n    return noErrors\r\n  }\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    if (this.setFormErrors()) {\r\n    axios.post(\"http://localhost:4000/send-email\", {\r\n        name: this.state.name,\r\n        email: this.state.email,\r\n        subject: this.state.subject,\r\n        message: this.state.message,\r\n      })\r\n      .then((response) => {\r\n        this.setState({\r\n          successMessage: \"Email sent successfully\",\r\n          errorMessage: \"\",\r\n          redirectToThankYou: true\r\n        });\r\n      });\r\n    }\r\n  };\r\n\r\n  validateName()\r\n    {    \r\n        //Not empty\r\n        return this.state.name !== \"\";\r\n    }\r\n\r\n    validateEmail(){\r\n\r\n        const pattern = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/;\r\n        return pattern.test(String(this.state.email))\r\n\r\n    }\r\n\r\n    validateSubject()\r\n    {    \r\n        //Not empty\r\n        return this.state.subject !== \"\";\r\n    }\r\n\r\n    validateMessage(){\r\n\r\n        return this.state.message.length > 30;\r\n\r\n    }\r\n\r\n    validate() {\r\n        return {\r\n            name: this.validateName(),\r\n            email: this.validateEmail(),\r\n            subject: this.validateSubject(),\r\n            messagePassword : this.validateMessage()\r\n        };\r\n    }\r\n\r\n  render() {\r\n\r\n    if (this.state.redirectToThankYou) {\r\n      return <Redirect to=\"./ThankYou\" />\r\n    }\r\n\r\n    return (\r\n      <div className=\"form-container\">\r\n\r\n<div class=\"navbar-container\">\r\n<NavBar/> \r\n                        </div> <br/> <br/> <br/> <br/> <br/> <br/> <center>\r\n                    \r\n                <h2 id=\"title2\">Contact Us</h2>\r\n\r\n        <form onSubmit={this.handleSubmit}>\r\n            <input\r\n              type=\"name\"\r\n              name=\"name\"\r\n              placeholder = \"Name\"\r\n              autoComplete=\"name\"\r\n              value={this.state.name}\r\n              onChange={this.handleInputChange}\r\n            />\r\n          <br />\r\n          {\"\"}\r\n          {this.state.nameError}\r\n\r\n            <input\r\n              type=\"email\"\r\n              name=\"email\"\r\n              placeholder = \"Email\"\r\n              autoComplete=\"email\"\r\n              value={this.state.email}\r\n              onChange={this.handleInputChange}\r\n            />\r\n          <br />\r\n          {\"\"}\r\n          {this.state.emailError}\r\n\r\n            <input\r\n              type=\"subject\"\r\n              name=\"subject\"\r\n              placeholder = \"Subject\"\r\n              autoComplete=\"subject\"\r\n              value={this.state.subject}\r\n              onChange={this.handleInputChange}\r\n            />\r\n                      {\"\"}\r\n          {this.state.subjectError}\r\n          <br />\r\n            <textarea\r\n              name=\"message\"\r\n              placeholder = \"Message\"\r\n              autoComplete=\"message\"\r\n              value={this.state.message}\r\n              onChange={this.handleInputChange}\r\n            />\r\n                      {\"\"}\r\n          {this.state.messageError}\r\n          <br /><br/>\r\n          <LinkInClass value=\"Send\" className=\"green-button\" onClick={this.handleSubmit}/>\r\n          <Link className=\"red-button\" to={\"/Home\"}>Cancel</Link>\r\n        </form>\r\n        </center>\r\n                <Footer/>\r\n      </div>\r\n\r\n\r\n\r\n\r\n\r\n      \r\n\r\n    );\r\n  }\r\n}\r\n\r\n","import React, { Component } from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport NavBar from \"./NavBar\"\r\nimport Footer from \"./Footer\"\r\nimport { ACCESS_LEVEL_GUEST, ACCESS_LEVEL_ADMIN, SERVER_HOST } from \"../config/global_constants\"\r\n\r\nexport default class Return extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                <div className=\"form-container\">\r\n                    <div class=\"navbar-container\">\r\n                        <NavBar />\r\n                    </div><br/><br/><br/><br/>\r\n                    <center>\r\n                        <h1 id=\"title2\">Request Recieved!</h1>\r\n                        <h2>Your return request is being processed!</h2>\r\n                    </center>\r\n                    <Footer />\r\n                </div>\r\n                )\r\n    }\r\n}","import React, { Component } from \"react\";\r\nimport { Redirect, Link } from \"react-router-dom\"\r\nimport axios from \"axios\";\r\n\r\nimport Return from \"./Return\"\r\n\r\nimport { ACCESS_LEVEL_GUEST, ACCESS_LEVEL_ADMIN, SERVER_HOST } from \"../config/global_constants\"\r\n\r\nexport default class ShoeTableHistory extends Component {\r\n  constructor(props) \r\n  {\r\n      super(props)\r\n      \r\n      this.state = {\r\nredirectToReturned: false\r\n      }\r\n  }\r\n\r\n  handleSelect = (car, index) => {\r\n    car.shoesID.splice(index, 1);\r\n    car.shoe_name.splice(index, 1);\r\n    car.amount.splice(index, 1);\r\n    car.size.splice(index, 1);\r\n    this.updateSales(car); \r\n    this.setState({redirectToReturned: true})\r\n  };\r\n\r\n  updateSales = (car) => {\r\n    axios.put(`${SERVER_HOST}/sales/${car._id}`, car)\r\n      .then((response) => {\r\n        console.log(\"Sales data updated:\", response.data);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error updating sales data:\", error);\r\n      });\r\n  };\r\n\r\n  render() {\r\n\r\n    if (this.state.redirectToReturned === true) {\r\n      return <Redirect to=\"/Return\" />\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>Name</th>\r\n              <th>Size</th>\r\n              <th>Amount</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            { this.props.cars.flatMap((car, index) =>\r\n      car.shoe_name.map((name, index) => (\r\n        <tr key={index}>\r\n          <td>{name.trim()}</td>\r\n          <td>{car.size[index]}</td>\r\n          <td>{car.amount[index]}</td>\r\n          <td>\r\n            <input\r\n              className=\"green-button\"\r\n              type=\"button\"\r\n              name=\"cart\"\r\n              value=\"Return\"\r\n              onClick={() => this.handleSelect(car, index)}\r\n            />\r\n          </td>\r\n        </tr>\r\n      ))\r\n    )}\r\n    </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\n\r\nimport axios from \"axios\"\r\nimport Filter from \"./Filter\"\r\nimport CarTable from \"./CarTable\"\r\nimport ShoeTableHistory from \"./ShoeTableHistory\"\r\nimport Logout from \"./Logout\"\r\nimport Search from \"./Search\"\r\nimport Sort from \"./Sort\"\r\nimport NavBar from \"./NavBar\"\r\nimport Footer from \"./Footer\"\r\n\r\nimport { ACCESS_LEVEL_GUEST, ACCESS_LEVEL_ADMIN, SERVER_HOST } from \"../config/global_constants\"\r\n\r\n\r\nexport default class DisplayAllCars extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            shoes: [],\r\n            searchBy: \"name\",\r\n            attributes: [\"name\", \"brand\", \"category\", \"price\"],\r\n            selectedShoes: [],\r\n            sortBy: \"name\",\r\n            sortSwitch: true,\r\n            switchKey: \"Asc ▲\",\r\n            saved: false,\r\n            beforeFilter: [],\r\n            restore: false,\r\n            backup: [],\r\n            usedFilters: [],\r\n            lastFilter: \"\",\r\n            brandUsed: false,\r\n            genderUsed: false,\r\n            sizeUsed: false,\r\n            colorUsed: false,\r\n            beforeFilter: []\r\n        }\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        // this.inputToFocus.focus()\r\n\r\n        axios.get(`${SERVER_HOST}/history/${this.props.match.params.email}`, { headers: { \"authorization\": localStorage.token } })\r\n            .then(res => {\r\n                if (res.data) {\r\n                    if (res.data.errorMessage) {\r\n                        console.log(res.data.errorMessage)\r\n                    }\r\n                    else {\r\n                        // this.setState({\r\n                        //     name: res.data.name,\r\n                        //     brand: res.data.brand,\r\n                        //     gender: res.data.gender,\r\n                        //     category: res.data.category,\r\n                        //     price: res.data.price,\r\n                        //     items_left: res.data.items_left\r\n                        // })\r\n                        console.log(res.data)\r\n                        console.log(\"Records read\")\r\n                        this.setState({\r\n                            shoes: res.data,\r\n                            selectedShoes: res.data\r\n                        })\r\n                    }\r\n                }\r\n                else {\r\n                    console.log(`Record not found`)\r\n                }\r\n            })\r\n    }\r\n\r\n\r\n//     handleSearchChange = e => {\r\n//         console.log(this.state.shoes)\r\n//         console.log(this.state.shoes.filter(finder => finder.name.toUpperCase().includes(e.toUpperCase())))\r\n//         if (!(e === \"\")) {\r\n\r\n//             this.setState({ selectedShoes: this.state.shoes.filter(finder => finder.name.toUpperCase().includes(e.toUpperCase())) });\r\n            \r\n//         }\r\n//         else{\r\n\r\n//             this.setState({ selectedShoes: this.state.shoes })\r\n\r\n//     }\r\n// }\r\n\r\n\r\n\r\n    render() {\r\n        \r\n        return (\r\n            <div className=\"form-container\">\r\n                <div class=\"navbar-container\">\r\n                    <NavBar />\r\n                </div> <br /> <br /> <br /><center>\r\n\r\n                {localStorage.accessLevel > ACCESS_LEVEL_GUEST ?\r\n                      <div>\r\n                      {/* <Search handleSearchChange={this.handleSearchChange} handleChange={this.handleChange} /> */}\r\n                      {/* <Sort sortSwitch={this.state.sortSwitch} switchKey={this.state.switchKey} handleSortChange={this.handleSortChange} handleSortClick={this.handleSortClick} sortColumn={this.state.attributes} />\r\n                      <Filter shoes={this.state.shoes} handleFilterChange={this.handleFilterChange} /> */}\r\n                      {/* <Link className=\"red-button\" to={\"/ResetDatabase\"}>Reset Users</Link>\r\n                      <Link className=\"red-button\" to={\"/ResetShoes\"}>Reset Shoes</Link> */}\r\n                      <br /><br /><br /></div>\r\n                    :\r\n                        null\r\n                }\r\n\r\n                <div className=\"shoe-container\">\r\n                    <ShoeTableHistory cars={this.state.selectedShoes} />\r\n\r\n\r\n                </div>\r\n                </center>\r\n                <Footer />\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport axios from \"axios\"\r\n\r\nimport { ACCESS_LEVEL_GUEST, ACCESS_LEVEL_ADMIN, ACCESS_LEVEL_NORMAL_USER,SERVER_HOST} from \"../config/global_constants\"\r\n\r\n\r\nexport default class CartTableRow extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            imageFiles: [],\r\n            embeddedImage: false\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        console.log(\"get from file\")\r\n        let imageFiles = []\r\n        JSON.parse(this.props.car.photos).map(photo => {\r\n            return axios.get(`${SERVER_HOST}/cars/photo/${photo.filename}`)\r\n                .then(res => {\r\n                    if (res.data) {\r\n                        console.log(res.data)\r\n                        if (res.data.errorMessage) {\r\n                            console.log(res.data.errorMessage)\r\n                        }\r\n                        else {\r\n                            if (res.data.image != null) {\r\n\r\n                                // console.log( document.getElementById(photo._id) )\r\n                                imageFiles.push(`data:;base64,${res.data.image}`)\r\n                                this.setState({ embeddedImage: true, imageFiles: imageFiles })\r\n                            }\r\n                            else {\r\n                                console.log(\"no embedded image\")\r\n                            }\r\n                            // console.log(`data:;base64,${res.data.image}` )                                                     \r\n                        }\r\n                    }\r\n                    else {\r\n                        console.log(\"Record not found\")\r\n                    }\r\n                })\r\n        })\r\n        // window.location.reload(false);\r\n    }\r\n    render() {\r\n        console.log(this.props.car.photos)\r\n        return (\r\n            <table className=\"shoe\">\r\n                <tr>\r\n                    <td><h5>{this.props.car.name}</h5></td>\r\n                </tr>\r\n                {/* <tr>\r\n                    <Link to={`/Product?shoeID=${this.props.car._id}`}><td><img src={this.props.car.imageURL} alt={this.props.car.name}></img></td></Link>\r\n                    </tr> */}\r\n\r\n                {!this.state.embeddedImage ?\r\n                    <tr>\r\n                        <Link to={`/Product?shoeID=${this.props.car._id}`}><td><img src={this.props.car.imageURL} alt={this.props.car.name}></img></td></Link>\r\n                    </tr>\r\n                    :\r\n                    <tr>\r\n                        <Link to={`/Product?shoeID=${this.props.car._id}`}><td><img src={this.state.imageFiles[0]} alt={this.props.car.name} className=\"shoeImage\"></img></td></Link>\r\n                    </tr>\r\n                }\r\n                <tr>\r\n                    <td>{this.props.car.brand}</td>\r\n                </tr>\r\n                <tr>\r\n                    <td>Size: {this.props.car.size}</td>\r\n                </tr>\r\n                <tr>\r\n                    <td>Price: €{this.props.car.price}</td>\r\n                </tr>\r\n                <tr>\r\n                    <td>Amount: {this.props.car.amount}<br></br></td>\r\n                </tr>\r\n                <tr>\r\n                    <td>\r\n                        <div className=\"shoeButtons\">\r\n\r\n                            {localStorage.accessLevel >= ACCESS_LEVEL_NORMAL_USER ? <Link className=\"red-button\" to={\"/CartDelete/\" + this.props.car._id + \"/\" + this.props.car.amount}>Delete</Link> : null}\r\n                        </div>\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                </tr>\r\n            </table>\r\n        )\r\n    }\r\n}","import React, {Component} from \"react\"\r\nimport CartTableRow from \"./CartTableRow\"\r\n\r\n\r\nexport default class CartTable extends Component \r\n{\r\n    render() \r\n    {\r\n        return (\r\n                <div>\r\n                    {this.props.cars.map((car) => <CartTableRow key={car._id} car={car}/>)}\r\n                </div>     \r\n        )\r\n    }\r\n}","import React, {Component} from \"react\"\r\nimport {Link} from \"react-router-dom\"\r\n\r\nimport {ACCESS_LEVEL_GUEST, ACCESS_LEVEL_ADMIN, ACCESS_LEVEL_NORMAL_USER} from \"../config/global_constants\"\r\n\r\n\r\nexport default class CartTableRow extends Component\r\n{\r\n    render()\r\n    {\r\n        return (\r\n                <table>\r\n                    <tr>\r\n                        <td><b>{this.props.car.name}:</b></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>€{this.props.car.price} x {this.props.car.amount}</td>\r\n                    </tr>\r\n\r\n                </table>\r\n                )\r\n    }\r\n}","import React, {Component} from \"react\"\r\nimport CheckoutTableRow from \"./CheckoutTableRow\"\r\n\r\nconst today = new Date();\r\nconst dayOfWeek = today.getDay()\r\n\r\n\r\nexport default class CartTable extends Component \r\n{\r\n    render() \r\n    {\r\n        return (\r\n                <div>\r\n                    {this.props.cars.map((car) => <CheckoutTableRow key={car._id} car={car}/>)}\r\n                    <hr></hr>\r\n    \r\n                    {dayOfWeek === 2 ? // if today is tuesday it will strikethrough the checkout price\r\n                            <div><strike> Total Price: €{this.props.cars.reduce((total, car) => total + car.price * car.amount, 0)}</strike> <i>*Tuesday Discount: 10% </i></div>\r\n\r\n                            :\r\n                            null\r\n\r\n                        }\r\n\r\n                        {dayOfWeek === 2 ? // if today is tuesday it will display the discounted price\r\n                            <div><h2>Total Price: €{this.props.cars.reduce((total, car) => total + car.price * car.amount * 0.9, 0)}</h2></div>\r\n\r\n                            :\r\n                            <div><h2>Total Price: €{this.props.cars.reduce((total, car) => total + car.price * car.amount, 0)}</h2></div>\r\n\r\n                        }\r\n                </div> \r\n        )\r\n    }\r\n}","import React, { Component } from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport axios from \"axios\"\r\nimport NavBar from \"./NavBar\"\r\nimport Footer from \"./Footer\"\r\nimport { ACCESS_LEVEL_NORMAL_USER, ACCESS_LEVEL_ADMIN, SERVER_HOST } from \"../config/global_constants\"\r\nimport CartTable from \"./CartTable\"\r\nimport CheckoutTable from \"./CheckoutTable\"\r\nimport BuyShoe from \"./BuyShoe\"\r\n\r\n// Get day of the week for Tuesday Discounts\r\nconst today = new Date();\r\nconst dayOfWeek = today.getDay()\r\n\r\nexport default class Cart extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            shoes: [],\r\n            price:0,\r\n            names:[],\r\n            ids:[],\r\n            quantity:[],\r\n            names:[],\r\n            images:[],\r\n            sizes:[],\r\n            embeddedImage:false,\r\n            imageFiles:[]\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get(`${SERVER_HOST}/cart/${localStorage.email}`)\r\n            .then(res => {\r\n                if (res.data) {\r\n                    if (res.data.errorMessage) {\r\n                        console.log(res.data.errorMessage)\r\n                    }\r\n                    else {\r\n                        console.log(\"Records read\")\r\n                        \r\n                        this.setState({shoes: res.data })\r\n                        console.log(res.data)\r\n\r\n                        let totalPrice=0;\r\n                        let ids = [];\r\n                        let quantity =[];\r\n                        let names =[];\r\n                        let images =[];\r\n                        let sizes = [];\r\n                        \r\n\r\n                        // let names=[]\r\n                        this.state.shoes.map((shoe) => totalPrice+= (shoe.amount * shoe.price))\r\n                        this.state.shoes.map((shoe) => ids.push(shoe.shoeID))\r\n                        this.state.shoes.map((shoe) => names.push(shoe.name))\r\n                        this.state.shoes.map((shoe) => images.push(shoe.imageURL))\r\n                        this.state.shoes.map((shoe) => sizes.push(shoe.size))\r\n                        this.state.shoes.map((shoe) => quantity.push(shoe.amount))\r\n\r\n\r\n                        console.log(ids)\r\n                        \r\n                        this.setState({price:totalPrice, ids:ids, quantity:quantity, names:names,images:images, sizes:sizes})\r\n                        console.log(totalPrice)\r\n                        console.log(res.data)\r\n                    }\r\n                }\r\n                else {\r\n                    console.log(\"Record not found\")\r\n                }\r\n            })\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        let soldOrForSale = null\r\n        if(localStorage.accessLevel >= ACCESS_LEVEL_NORMAL_USER)\r\n        {\r\n            // if(this.props.car.sold !== true)\r\n            // {\r\n                console.log(this.state.price)\r\n                console.log(this.state.ids)\r\n                console.log(\"AMOUNT\" + this.state.quantity)\r\n                console.log(this.state.names)\r\n                console.log(this.state.sizes)\r\n\r\n\r\n                if (dayOfWeek === 2) { // Applies 10% Discount on Tuesdays\r\n                    soldOrForSale = <BuyShoe shoes={this.state.shoes}  price={this.state.price * 0.9}  ids={this.state.ids} quantity={this.state.quantity} names={this.state.names} images={this.state.images} sizes={this.state.sizes}/>\r\n                } else {\r\n                    soldOrForSale = <BuyShoe shoes={this.state.shoes}  price={this.state.price}  ids={this.state.ids} quantity={this.state.quantity} names={this.state.names} images={this.state.images} sizes={this.state.sizes}/>\r\n                }\r\n\r\n             // }\r\n            // else\r\n            // {\r\n            //     soldOrForSale = \"SOLD\"\r\n            // }\r\n\r\n        }\r\n        console.log(this.state.shoes)\r\n        return (\r\n                <div className=\"form-container\">\r\n                    {/* {console.log(this.state.price)} */}\r\n                    <div class=\"navbar-container\">\r\n                        <NavBar />\r\n                    </div><br/><br/>\r\n\r\n                    <div className = \"superContainer\">\r\n                    <div className=\"shoe-container\">\r\n                    <CartTable cars={this.state.shoes} /><br></br><br></br><br></br>\r\n                    </div>\r\n                    <div className = \"checkout\">\r\n                        <div className=\"checkoutPricing\">\r\n                    <CheckoutTable cars={this.state.shoes} />\r\n                    <center>\r\n                    {soldOrForSale}\r\n                    </center>\r\n                    </div>\r\n                    </div>\r\n                    </div>\r\n                \r\n\r\n                </div>\r\n                )\r\n    }\r\n}","import React, { Component } from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport NavBar from \"./NavBar\"\r\nimport Footer from \"./Footer\"\r\nimport { ACCESS_LEVEL_GUEST, ACCESS_LEVEL_ADMIN, SERVER_HOST } from \"../config/global_constants\"\r\n\r\nexport default class AddedToCart extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n                <div className=\"form-container\">\r\n                    <div class=\"navbar-container\">\r\n                        <NavBar />\r\n                    </div><br/><br/><br/><br/>\r\n                    <center>\r\n                        <h1 id=\"title2\">Added to Cart!</h1>\r\n                        <h2>The product has been added to the cart</h2>\r\n                    </center>\r\n                    <Footer />\r\n                </div>\r\n                )\r\n    }\r\n}","import React, { Component } from \"react\"\r\nimport { Redirect, Link } from \"react-router-dom\"\r\nimport axios from \"axios\"\r\nimport Filter from \"./Filter\"\r\nimport CarTable from \"./CarTable\"\r\nimport ShoeTable from \"./ShoeTable\"\r\nimport Logout from \"./Logout\"\r\nimport Search from \"./Search\"\r\nimport Sort from \"./Sort\"\r\nimport NavBar from \"./NavBar\"\r\nimport Footer from \"./Footer\"\r\nimport AddedToCart from \"./AddedToCart\"\r\nimport { ACCESS_LEVEL_GUEST, ACCESS_LEVEL_ADMIN, SERVER_HOST, cart_item } from \"../config/global_constants\"\r\nimport BuyShoeGuest from \"./BuyShoeGuest\"\r\nimport BuyShoe from \"./BuyShoe\"\r\n\r\n\r\nexport default class Product extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      shoe: {},\r\n      size: null,\r\n      slideIndex: 1,\r\n      showComments: false,\r\n      comments: [],\r\n      embeddedImage: false,\r\n      imageFiles: [],\r\n      redirectToAdded: false,\r\n      wasSubmittedOnce: false,\r\n      quantityNum: 1\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    // const el = document.getElementById(photo._id)\r\n    const shoeID = this.props.location.search.slice(8);\r\n\r\n    axios.get(`${SERVER_HOST}/cars/${shoeID}`, { headers: { \"authorization\": localStorage.token } })\r\n      .then(res => {\r\n        if (res.data) {\r\n          if (res.data.errorMessage) {\r\n            console.log(res.data.errorMessage)\r\n          } else {\r\n            console.log(\"Records read\")\r\n            this.setState({\r\n              shoe: res.data,\r\n            }, () => {\r\n              this.getFromFile();\r\n\r\n              this.showSlides(this.state.slideIndex);\r\n\r\n\r\n            });\r\n          }\r\n        } else {\r\n          console.log(\"Record not found\")\r\n        }\r\n      })\r\n  }\r\n\r\n  getFromFile() {\r\n    console.log(\"get from file\")\r\n    let imageFiles = []\r\n    this.state.shoe.photos.map(photo => {\r\n      return axios.get(`${SERVER_HOST}/cars/photo/${photo.filename}`)\r\n        .then(res => {\r\n          if (res.data) {\r\n            console.log(res.data)\r\n            if (res.data.errorMessage) {\r\n              console.log(res.data.errorMessage)\r\n            }\r\n            else {\r\n              if (res.data.image != null) {\r\n\r\n                // console.log( document.getElementById(photo._id) )\r\n                imageFiles.push(`data:;base64,${res.data.image}`)\r\n                this.setState({ embeddedImage: true, imageFiles: imageFiles })\r\n              }\r\n              else {\r\n                console.log(\"no embedded image\")\r\n              }\r\n              // console.log(`data:;base64,${res.data.image}` )                                                     \r\n            }\r\n          }\r\n          else {\r\n            console.log(\"Record not found\")\r\n          }\r\n        })\r\n    })\r\n    // window.location.reload(false);\r\n\r\n  }\r\n\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault()\r\n\r\n    this.setState({ wasSubmittedOnce: true })\r\n\r\n    const shoeID = this.props.location.search.slice(8)\r\n    const name = this.state.shoe.name;\r\n    //const imageURL = \"insertImage\";\r\n    const price = this.state.shoe.price;\r\n    const size = this.state.size;\r\n    // const imageURL = this.state.shoe.imageURL\r\n    const email = localStorage.email\r\n    let photos = null;\r\n    const quantity = this.state.quantityNum - 1;\r\n    // let total = localStorage.cart_item + quantity\r\n    // localStorage.cart_item = total\r\n    console.log(\"Quantity: \" + quantity)\r\n    if (this.state.embeddedImage === true) {\r\n      photos = JSON.stringify(this.state.shoe.photos)\r\n    }\r\n    else {\r\n      photos = JSON.stringify([{ \"test\": \"one\" }])\r\n      console.log(shoeID)\r\n    }\r\n\r\n    // console.log(imageURL)\r\n\r\n    if (this.state.size !== null && this.state.shoe.items_left - 1 >= 0) {\r\n      localStorage.cart_item++;\r\n\r\n      axios.post(`${SERVER_HOST}/cart/${shoeID}/${name}/${price}/${size}/${email}/${photos}/${quantity}`, {\r\n\r\n        size: this.state.size // Pass the selected size to the server\r\n      })\r\n        .then(res => {\r\n          if (res.data) {\r\n            if (res.data.errorMessage) {\r\n              console.log(res.data.errorMessage)\r\n            } else {\r\n              console.log(\"Shoe Added to Cart Successfully\")\r\n\r\n              let quantity = this.state.quantityNum - 1;\r\n\r\n              localStorage.shoeID = res.data.shoeID\r\n              localStorage.name = res.data.name\r\n              // localStorage.imageURL = res.data.imageURL\r\n              localStorage.price = res.data.price;\r\n              localStorage.image = res.data.imageURL;\r\n              localStorage.size = this.state.size;\r\n              localStorage.quantity = quantity;\r\n              console.log(\"Quantity: \" + localStorage.quantity)\r\n\r\n            \r\n          }\r\n        } else {\r\n          console.log(\"Add to cart failed\")\r\n        }\r\n      })\r\n      this.setState({redirectToAdded: true})\r\n    }else{\r\n      console.log(\"not enough stock\")\r\n    }\r\n    //   window.location.reload(false);\r\n  }\r\n\r\n  handleSizeChange = (e) => {\r\n    this.setState({\r\n      size: e.target.value\r\n    });\r\n  }\r\n\r\n  //Code adapted from https://www.w3schools.com/howto/howto_js_slideshow.asp\r\n  plusSlides(n) {\r\n    this.showSlides(this.state.slideIndex + n);\r\n  }\r\n\r\n  currentSlide(n) {\r\n    this.showSlides(n);\r\n  }\r\n  commentToggle = (e) => {\r\n    axios.get(`${SERVER_HOST}/comment/${this.state.shoe.name}`)\r\n      .then(res => {\r\n        if (res.data) {\r\n          if (res.data.errorMessage) {\r\n            console.log(res.data.errorMessage)\r\n          }\r\n          else {\r\n            console.log(\"Records read\")\r\n            console.log(res.data)\r\n            // let comments =[]\r\n            // res.data.map((data)=>comments.push(data.comments))\r\n            // console.log(comments)\r\n            this.setState({\r\n              comments: res.data\r\n\r\n            })\r\n            if (this.state.showComments) {\r\n              this.setState({ showComments: false })\r\n            } else {\r\n              this.setState({ showComments: true })\r\n            }\r\n          }\r\n        }\r\n        else {\r\n          console.log(\"Record not found\")\r\n        }\r\n      })\r\n\r\n  }\r\n\r\n  showSlides = (slideIndex) => {\r\n    const slides = document.getElementsByClassName(\"mySlides\");\r\n    const dots = document.getElementsByClassName(\"dot\");\r\n\r\n    if (slideIndex > slides.length) {\r\n      slideIndex = 1;\r\n    }\r\n    if (slideIndex < 1) {\r\n      slideIndex = slides.length;\r\n    }\r\n\r\n    this.setState({\r\n      slideIndex: slideIndex\r\n    });\r\n\r\n    for (let i = 0; i < slides.length; i++) {\r\n      slides[i].style.display = \"none\";\r\n    }\r\n    for (let i = 0; i < dots.length; i++) {\r\n      dots[i].className = dots[i].className.replace(\" active\", \"\");\r\n    }\r\n    if (slides && slides[slideIndex - 1]) {\r\n      slides[slideIndex - 1].style.display = \"block\";\r\n      dots[slideIndex - 1].className += \" active\";\r\n    }\r\n  }\r\n\r\n  //Increase and decrease methods taken from https://codepen.io/mtbroomell/pen/yNwwdv\r\n  increaseValue = () => {\r\n    var value = parseInt(document.getElementById('number').value, 10);\r\n    value = isNaN(value) ? 0 : value;\r\n    value++;\r\n    if (value <= this.state.shoe.items_left) {\r\n      this.setState({ quantityNum: value })\r\n    }\r\n    else {\r\n      this.setState({ quantityNum: value - 1 })\r\n    }\r\n    document.getElementById('number').value = value;\r\n    // this.setState({ quantityNum: document.getElementById('number').value })\r\n    this.forceUpdate();\r\n  }\r\n\r\n  decreaseValue = () => {\r\n    var value = parseInt(document.getElementById('number').value, 10);\r\n    value = isNaN(value) ? 0 : value;\r\n    value = value < 1 ? 1 : value;\r\n    value--;\r\n    if (value > 0) {\r\n      this.setState({ quantityNum: value })\r\n    }\r\n    else {\r\n      this.setState({ quantityNum: 1 })\r\n    }\r\n    document.getElementById('number').value = value;\r\n    // this.setState({ quantityNum: document.getElementById('number').value })\r\n  }\r\n\r\n  render() {\r\n\r\n    let sizeError = \"\"\r\n    let stockError = \"\"\r\n    let itemsLeftError = \"\"\r\n    \r\n\r\n    if (this.state.redirectToAdded === true) {\r\n      return <Redirect to=\"./AddedToCart\" />\r\n    }\r\n\r\n    const shoe = this.state.shoe\r\n    const sizes = shoe.sizes ? shoe.sizes.map(size => {\r\n      return size;\r\n    }) : [];\r\n\r\n    console.log(this.state.shoe.photos)\r\n    console.log(\"comments\" + this.state.comments)\r\n    console.log(this.state.embeddedImage)\r\n    console.log(this.state.imageFiles)\r\n\r\n    if (this.state.size === null && this.state.wasSubmittedOnce) {\r\n\r\n      sizeError = <p class=\"error\">Please pick a size</p>;\r\n\r\n    }\r\n\r\n    console.log(\"Items: \" + this.state.shoe.items_left)\r\n    if (this.state.shoe.items_left < 1) {\r\n      stockError = <center><p class=\"error\">This item is currently out of stock</p></center>;\r\n    }\r\n\r\n    return (\r\n\r\n      <div>\r\n\r\n        <div class=\"navbar-container\">\r\n          <NavBar />\r\n        </div><br /><br /><br /><br /><br />\r\n        <center><h1 id=\"title2\">{shoe.name}</h1></center>\r\n\r\n        <div className=\"superContainer\">\r\n\r\n          {stockError}\r\n          <div className=\"productControls\">\r\n            <p><b>Brand: </b>{shoe.brand}</p>\r\n            <div>\r\n              <p><b>Size:</b></p>\r\n              {sizes.map(size => (\r\n                <label class=\"radio-label\">\r\n                  <input type=\"radio\" name=\"size\" value={size} checked={this.state.size === size} onChange={this.handleSizeChange} />\r\n                  <span class=\"radio-button\"></span>\r\n                  {size}\r\n                </label>\r\n              ))}\r\n            </div>\r\n            {sizeError}\r\n            <p><b>Gender: </b>{shoe.gender}</p>\r\n            <p><b>Color: </b>{shoe.color}</p>\r\n            <p><b>Price: </b>€{shoe.price}</p>\r\n\r\n\r\n\r\n            {localStorage.accessLevel > ACCESS_LEVEL_GUEST ?\r\n              <div><p><b>Quantiy: </b></p>\r\n                <form>\r\n                  <div class=\"quantity-control\">\r\n                    <div class=\"value-button\" id=\"decrease\" onClick={this.decreaseValue} value=\"Decrease Value\">-</div>\r\n                    <input type=\"number\" id=\"number\" value={this.state.quantityNum} />\r\n                    <div class=\"value-button\" id=\"increase\" onClick={this.increaseValue} value=\"Increase Value\">+</div>\r\n                  </div>\r\n                </form></div>\r\n              :\r\n              null\r\n            }\r\n\r\n            <br></br>\r\n\r\n            <button class=\"green-button\" id=\"btn\" onClick={this.commentToggle}>Comments</button>\r\n            {this.state.showComments ?\r\n              (<table>\r\n                <div style={{ display: \"inline-block\" }}>\r\n                  {this.state.comments.userName.map((comment) => <tr><td>{comment}:</td> </tr>)}\r\n                </div>\r\n                <div style={{ display: \"inline-block\" }}>\r\n                  {this.state.comments.comments.map((comment) => <tr><td>{comment}</td> </tr>)}\r\n                </div>\r\n                <tr>\r\n                  <Link className=\"green-button\" to={\"/AddComment/\" + shoe.name}>add comment</Link>\r\n                </tr>\r\n              </table>)\r\n              :\r\n              null\r\n            }\r\n            <div className=\"gap\"></div>\r\n            {localStorage.accessLevel == ACCESS_LEVEL_GUEST ? <BuyShoeGuest price={this.state.shoe.price} id={this.state.shoe._id} shoeName={this.state.shoe.name} size={this.state.size} /> : <input class=\"green-button\" type=\"button\" name=\"cart\" value=\"Add to Cart\" onClick={this.handleSubmit} />}\r\n\r\n\r\n            {/* <button class=\"green-button\" id=\"btn\" onClick={this.commentToggle}>Comments</button>\r\n        {this.state.showComments ?\r\n          <table>\r\n            {this.state.comments.map((comment)=><tr><td>{comment.userName}</td> <td>{comment.comments}</td></tr> )}\r\n          </table>\r\n          :\r\n          null\r\n        } */}\r\n            <br></br><br></br>\r\n          </div>\r\n\r\n\r\n          <div className=\"slideshow-container\">\r\n            {!this.state.embeddedImage ?\r\n              shoe.photos && shoe.photos.map((photo, index) => {\r\n                {\r\n                  return (\r\n                    <div className=\"mySlides fade\" key={index}>\r\n                      <img src={photo} />\r\n                      {/* {this.state.embeddedImage ?  this.getFromFile() : null} */}\r\n                      {/* {this.state.embeddedImage ?  <img src={photo} key={photo._id} id={photo._id}/> : <img src={photo}/>} */}\r\n                    </div>)\r\n                }\r\n              })\r\n              :\r\n              (\r\n                this.state.imageFiles.map((file, index) => {\r\n                  {\r\n                    return (\r\n                      <div className=\"mySlides fade\" key={index}>\r\n                        <img src={file} />\r\n                      </div>)\r\n                  }\r\n                }))}\r\n\r\n\r\n            <a className=\"prev\" onClick={() => this.plusSlides(-1)}>&#10094;</a>\r\n            <a className=\"next\" onClick={() => this.plusSlides(1)}>&#10095;</a>\r\n            <div className=\"dots-container\"><center>\r\n              {shoe.photos && shoe.photos.map((photo, index) => {\r\n                return (\r\n                  <span\r\n                    className=\"dot\"\r\n                    key={index}\r\n                    onClick={() => this.currentSlide(index + 1)}\r\n                  ></span>\r\n                );\r\n              })}\r\n            </center></div>\r\n          </div>\r\n\r\n          <div className=\"productControlsMobile\"><center>\r\n            <div>\r\n              <p><b>Size:</b></p>\r\n              {sizes.map(size => (\r\n                <label class=\"radio-label\">\r\n                  <input type=\"radio\" name=\"size\" value={size} checked={this.state.size === size} onChange={this.handleSizeChange} />\r\n                  <span class=\"radio-button\"></span>\r\n                  {size}\r\n                </label>\r\n              ))}\r\n            </div>\r\n            <p><b>Price:</b> €{shoe.price}</p>\r\n            {localStorage.accessLevel > ACCESS_LEVEL_GUEST ?\r\n              <div><p><b>Quantiy: </b></p>\r\n                <form>\r\n                  <div class=\"quantity-control\">\r\n                    <div class=\"value-button\" id=\"decrease\" onClick={this.decreaseValue} value=\"Decrease Value\">-</div>\r\n                    <input type=\"number\" id=\"number\" value={this.state.quantityNum} />\r\n                    <div class=\"value-button\" id=\"increase\" onClick={this.increaseValue} value=\"Increase Value\">+</div>\r\n                  </div>\r\n                </form></div>\r\n              :\r\n              null\r\n            }\r\n            <br></br>\r\n            <button class=\"green-button\" id=\"btn\" onClick={this.commentToggle}>Comments</button>\r\n            {this.state.showComments ?\r\n              (<table>\r\n                <div style={{ display: \"inline-block\" }}>\r\n                  {this.state.comments.userName.map((comment) => <tr><td>{comment}:</td> </tr>)}\r\n                </div>\r\n                <div style={{ display: \"inline-block\" }}>\r\n                  {this.state.comments.comments.map((comment) => <tr><td>{comment}</td> </tr>)}\r\n                </div>\r\n                <tr>\r\n                  <Link className=\"green-button\" to={\"/AddComment/\" + shoe.name}>add comment</Link>\r\n                </tr>\r\n              </table>)\r\n              :\r\n              null\r\n            }\r\n            {console.log(this.state.shoe.price)}\r\n\r\n            {localStorage.accessLevel == ACCESS_LEVEL_GUEST ? <BuyShoeGuest price={this.state.shoe.price} id={this.state.shoe._id} shoeName={this.state.shoe.name} size={this.state.size} /> : null}\r\n            {console.log(localStorage.cart_item)}\r\n\r\n            {localStorage.accessLevel > ACCESS_LEVEL_GUEST ? <input class=\"green-button\" type=\"button\" name=\"cart\" value=\"Add to Cart\" onClick={this.handleSubmit} /> : null}\r\n          </center></div>\r\n\r\n        </div><br></br><br></br>\r\n        <Footer />\r\n      </div>\r\n    );\r\n  }\r\n}","import React, { Component } from \"react\"\r\nimport { Redirect } from \"react-router-dom\"\r\nimport axios from \"axios\"\r\n\r\nimport { SERVER_HOST } from \"../config/global_constants\"\r\n\r\n\r\nexport default class CartDelete extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            redirectToCart: false\r\n        }\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        localStorage.cart_item -= this.props.match.params.amount\r\n        // console.log(this.props.match.params.amount)\r\n        axios.delete(`${SERVER_HOST}/cart/${this.props.match.params.id}/${localStorage.email}/${this.props.match.params.amount}`)\r\n            .then(res => {\r\n                console.log(\"axios\")\r\n                if (res.data) {\r\n                    if (res.data.errorMessage) {\r\n                        console.log(res.data.errorMessage)\r\n                    }\r\n                    else // success\r\n                    {\r\n                        console.log(\"Record deleted\")\r\n                    }\r\n                    this.setState({ redirectToCart: true })\r\n                }\r\n                else {\r\n                    console.log(\"Record not deleted\")\r\n                }\r\n            })\r\n            // window.location.reload(false);\r\n    }\r\n\r\n\r\n    render() {\r\n        console.log(localStorage.cart_item)\r\n        return (\r\n            <div>\r\n                {this.state.redirectToCart ? <Redirect to=\"/Cart\" /> : null}\r\n            </div>\r\n        )\r\n    }\r\n}","import React, {Component} from \"react\"\r\nimport {Link} from \"react-router-dom\"\r\n\r\nimport {ACCESS_LEVEL_GUEST, ACCESS_LEVEL_ADMIN} from \"../config/global_constants\"\r\n\r\n\r\nexport default class UserTableRow extends Component \r\n{    \r\n    render() \r\n    {\r\n        return (\r\n            \r\n            <tr>\r\n                <td>{this.props.car.name}</td>\r\n                <td className = \"hide\">{this.props.car.email}</td>\r\n                {/* <td className = \"hide\">{this.props.car.gender}</td>\r\n                <td className = \"hide\">{this.props.car.category}</td>\r\n                <td className = \"hide\">{this.props.car.price}</td> */}\r\n                <td>\r\n                    {localStorage.accessLevel > ACCESS_LEVEL_GUEST ? <Link className=\"green-button\" to={\"/EditUser/\" + this.props.car._id}>Edit</Link> : null}\r\n                    \r\n                    {localStorage.accessLevel >= ACCESS_LEVEL_ADMIN ? <Link  className=\"red-button\" to={\"/UserDelete/\" + this.props.car._id}>Delete</Link> : null}   \r\n                    \r\n                \r\n                </td>\r\n                \r\n            </tr>\r\n        )\r\n    }\r\n}","import React, {Component} from \"react\"\r\nimport UserTableRow from \"./UserTableRow\"\r\n\r\n\r\nexport default class UserTable extends Component \r\n{\r\n    render() \r\n    {\r\n        return (\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <th>Name</th>\r\n                        <th className = \"hide\">Email</th>\r\n                        {/* <th className = \"hide\">Gender</th>\r\n                        <th className = \"hide\">Category</th>\r\n                        <th className = \"hide\">Price</th>\r\n                        <th>Stock</th> */}\r\n                        <th> </th>\r\n                    </tr>\r\n                </thead>\r\n                  \r\n                <tbody>\r\n                    {this.props.cars.slice(1).map((car) => <UserTableRow key={car._id} car={car}/>)}\r\n                </tbody>\r\n            </table>      \r\n        )\r\n    }\r\n}","import React, {Component} from \"react\"\r\nimport {Redirect, Link} from \"react-router-dom\"\r\nimport axios from \"axios\"\r\n\r\nimport LinkInClass from \"./LinkInClass\"\r\nimport {ACCESS_LEVEL_GUEST, ACCESS_LEVEL_ADMIN, SERVER_HOST} from \"../config/global_constants\"\r\n\r\nimport UserTable from \"./UserTable\"\r\nimport Login from \"./Login\"\r\nimport Logout from \"./Logout\"\r\nimport Search from \"./Search\"\r\nimport Sort from \"./Sort\"\r\nimport NavBar from \"./NavBar\"\r\nimport Footer from \"./Footer\"\r\n\r\n\r\nexport default class User extends Component\r\n{\r\n    constructor(props) \r\n    {\r\n        super(props)\r\n        \r\n        this.state = {\r\n            shoes:[],\r\n            searchBy: \"name\",\r\n            attributes: [\"name\", \"brand\", \"category\", \"price\"],\r\n            selectedShoes: [],\r\n            sortedShoes: [],\r\n            sortBy: \"name\",\r\n            sortSwitch: true,\r\n            switchKey: \"Asc ▲\"\r\n        }\r\n    }\r\n    \r\n    \r\n    componentDidMount() \r\n    {\r\n        axios.get(`${SERVER_HOST}/users`)\r\n        .then(res => \r\n        {\r\n            if(res.data)\r\n            {\r\n                if (res.data.errorMessage)\r\n                {\r\n                    console.log(res.data.errorMessage)    \r\n                }\r\n                else\r\n                {           \r\n                    console.log(res.data)\r\n                    console.log(\"Records read\")   \r\n                    this.setState({shoes: res.data,\r\n                                   selectedShoes: res.data}) \r\n                }   \r\n            }\r\n            else\r\n            {\r\n                console.log(\"Record not found\")\r\n            }\r\n        })\r\n    }\r\n    \r\n        handleChange = e => {\r\n        this.setState({ searchBy: e.target.value })\r\n    }\r\n    \r\n//         handleSearchChange = e => {\r\n\r\n//         let x = this.state.searchBy\r\n\r\n//         if (!(e === \"\")) {\r\n\r\n//             if(this.state.sortedShoes.length > 0){\r\n//                 this.setState({ selectedShoes: this.state.sortedShoes.filter(finder => finder.name.toUpperCase().includes(e.toUpperCase()) || finder.email.toUpperCase().includes(e.toUpperCase())) });\r\n//             }\r\n//             else{\r\n//             this.setState({ selectedShoes: this.state.shoes.filter(finder => finder.name.toUpperCase().includes(e.toUpperCase()) || finder.email.toUpperCase().includes(e.toUpperCase())) });\r\n//             }\r\n//         }\r\n//         else{\r\n//             if(this.state.sortedShoes.length > 0){\r\n//             this.setState({ selectedShoes: this.state.sortedShoes })\r\n//         }\r\n//         else{\r\n//             this.setState({ selectedShoes: this.state.shoes })\r\n//         }\r\n\r\n//     }\r\n// }\r\n    \r\n        handleSortClick = e => {\r\n        let sortDirection\r\n        if (this.state.sortSwitch) {\r\n            sortDirection = 1\r\n            this.setState({ switchKey: \"Desc ▼\" })\r\n        }\r\n        else {\r\n            sortDirection = -1\r\n            this.setState({ switchKey: \"Asc ▲\" })\r\n        }\r\n\r\n        this.setState({ selectedShoes: this.state.selectedShoes.sort((a, b) => a[this.state.sortBy] < b[this.state.sortBy] ? -sortDirection : sortDirection) })\r\n        this.setState({ sortSwitch: !this.state.sortSwitch })\r\n        this.setState({sortedShoes: this.state.selectedShoes.sort((a, b) => a[this.state.sortBy] < b[this.state.sortBy] ? -sortDirection : sortDirection) })\r\n    }\r\n    \r\n    \r\n    handleSortChange = e => {\r\n        this.setState({ sortBy: e.target.value })\r\n    }\r\n    \r\n    render()\r\n    {\r\n        return (\r\n                <div className=\"form-container\">\r\n                    <div class=\"navbar-container\">\r\n                        <NavBar/>\r\n                    </div> <br/> <br/> <br/>\r\n                \r\n                    {localStorage.accessLevel > ACCESS_LEVEL_GUEST ?\r\n                                    null\r\n                            :\r\n                                    <div>\r\n                                    <h1>Authentification Required!</h1>\r\n                                    <p>Please Sign In!</p>\r\n                                        <Link className=\"green-button\" to={\"/Login\"}>Login</Link>\r\n                                        <br/><br/><br/></div>\r\n                    }\r\n                \r\n                    {localStorage.accessLevel >= ACCESS_LEVEL_ADMIN ?\r\n                                    <div className=\"admin-controls\"><center>\r\n                                        <div className=\"search-sort\">\r\n                                    {/* <Search handleSearchChange={this.handleSearchChange} handleChange={this.handleChange}/> */}\r\n                                        <Sort sortSwitch={this.state.sortSwitch} switchKey={this.state.switchKey} handleSortChange={this.handleSortChange} handleSortClick={this.handleSortClick} sortColumn={this.state.attributes} />\r\n                                        </div><br></br>\r\n                                        {/* <Link className=\"blue-button\" to={\"/AddCar\"}>Add New Shoe</Link> */}\r\n                                        {/* <Link className=\"red-button\" to={\"/ResetDatabase\"}>Reset Users</Link> */}\r\n                                        {/* <Link className=\"red-button\" to={\"/ResetShoes\"}>Reset Shoes</Link> */}\r\n                                        </center></div>\r\n\r\n                            :\r\n                            null\r\n                    }\r\n                \r\n                    {localStorage.accessLevel >= ACCESS_LEVEL_ADMIN ?\r\n                                        <div className=\"table-container\"><center>\r\n                                            <UserTable cars={this.state.selectedShoes} />\r\n                                            </center></div>\r\n\r\n                            :\r\n                            null\r\n                    }\r\n                \r\n                    <Footer/>\r\n                </div>\r\n                )\r\n    }\r\n}\r\n\r\n\r\n","import React, { Component } from \"react\"\r\nimport { Redirect, Link } from \"react-router-dom\"\r\n\r\n\r\nimport axios from \"axios\"\r\n\r\nimport LinkInClass from \"../components/LinkInClass\"\r\n\r\nimport { ACCESS_LEVEL_ADMIN, SERVER_HOST } from \"../config/global_constants\"\r\n\r\nimport NavBar from \"./NavBar\"\r\nimport Footer from \"./Footer\"\r\n\r\n\r\nexport default class AddCar extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            message: ``,\r\n            brand: ``,\r\n        }\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        // this.inputToFocus.focus()\r\n    }\r\n\r\n\r\n    handleChange = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value })\r\n        console.log(this.state.message)\r\n    }\r\n\r\n    handleFileChange = (e) => {\r\n        this.setState({ selectedFiles: e.target.files })\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault()\r\n\r\n        this.setState({ wasSubmittedAtLeastOnce: true });\r\n\r\n        const commentObject = {\r\n            userName: localStorage.name,\r\n            comment:this.state.message\r\n\r\n        }\r\n\r\n\r\n        axios.put(`${SERVER_HOST}/comment/${this.props.match.params.name}`, commentObject, { headers: { \"authorization\": localStorage.token } })\r\n            .then(res => {\r\n                if (res.data) {\r\n                    if (res.data.errorMessage) {\r\n                        console.log(res.data.errorMessage)\r\n                    }\r\n                    else {\r\n                        console.log(\"Record added\")\r\n                        this.setState({ redirectToDisplayAllCars: true })\r\n                    }\r\n                }\r\n                else {\r\n                    console.log(\"Record not added\")\r\n                }\r\n            })\r\n    }\r\n\r\n    render() {\r\n\r\n\r\n        return (\r\n            \r\n            <div className=\"form-container\">\r\n\r\n                <div class=\"navbar-container\">\r\n                    <NavBar />\r\n                </div> <br /> <br /> <br /> <br /> <br /> <br /> <center>\r\n\r\n                    <h2 id=\"title2\">Comment</h2>\r\n                    {this.state.redirectToDisplayAllCars ? <Redirect to=\"/DisplayAllCars\" /> : null}\r\n\r\n                    <div>\r\n                        <div controlId=\"brand\">\r\n                            <input type=\"text\" style={{height:\"100px\"}} name=\"message\" placeholder=\"Message\"  onChange={this.handleChange} />\r\n                            {\" \"}\r\n\r\n                        </div>\r\n                    <br></br>\r\n\r\n\r\n                    \r\n\r\n                        <LinkInClass value=\"Add\" className=\"green-button\" onClick={this.handleSubmit} />\r\n\r\n                        <Link className=\"red-button\" to={\"/DisplayAllCars\"}>Cancel</Link>\r\n                    </div>\r\n                </center>\r\n                <Footer />\r\n            </div>\r\n        )\r\n    }\r\n}","import React, {Component} from \"react\"\r\nimport {BrowserRouter, Switch, Route} from \"react-router-dom\"\r\nimport { PayPalScriptProvider, PayPalButtons } from \"@paypal/react-paypal-js\";\r\n\r\nimport \"./css/App.css\"\r\n\r\nimport NavBar from \"./components/NavBar\"\r\nimport Footer from \"./components/Footer\"\r\nimport Register from \"./components/Register\"\r\nimport ResetDatabase from \"./components/ResetDatabase\"\r\nimport ResetShoes from \"./components/ResetShoes\"\r\nimport Login from \"./components/Login\"\r\nimport Stock from \"./components/Stock\"\r\nimport Logout from \"./components/Logout\"\r\nimport AddCar from \"./components/AddCar\"\r\nimport EditCar from \"./components/EditCar\"\r\nimport EditUser from \"./components/EditUser\"\r\nimport DeleteCar from \"./components/DeleteCar\"\r\nimport UserDelete from \"./components/UserDelete\"\r\nimport Home from \"./components/Home\"\r\nimport DisplayAllCars from \"./components/DisplayAllCars\"\r\nimport LoggedInRoute from \"./components/LoggedInRoute\"\r\nimport BuyShoe from \"./components/BuyShoe\"\r\nimport BuyShoeGuest from \"./components/BuyShoeGuest\"\r\nimport PayPalMessage from \"./components/PayPalMessage\"\r\nimport PayPalMessageGuess from \"./components/PayPalMessage\"\r\nimport ProfilePage from \"./components/ProfilePage\"\r\nimport ContactUs from \"./components/ContactUs\"\r\nimport PurchaseHistory from \"./components/PurchaseHistory\"\r\nimport Cart from \"./components/Cart\"\r\nimport Product from \"./components/Product\"\r\nimport CartDelete from \"./components/CartDelete\"\r\nimport Users from \"./components/Users\"\r\nimport ThankYou from \"./components/ThankYou\"\r\nimport AddedToCart from \"./components/AddedToCart\"\r\nimport AddComment from \"./components/AddComment\"\r\nimport Return from \"./components/Return\"\r\n\r\n\r\nimport {ACCESS_LEVEL_GUEST} from \"./config/global_constants\"\r\n\r\n\r\nif (typeof localStorage.accessLevel === \"undefined\")\r\n{\r\n    localStorage.name = \"GUEST\"\r\n    localStorage.accessLevel = ACCESS_LEVEL_GUEST\r\n    localStorage.token = null\r\n    localStorage.email = null\r\n    localStorage.cart_item= 0\r\n}\r\n\r\n    \r\nexport default class App extends Component \r\n{\r\n    render() \r\n    {\r\n        return (\r\n            <BrowserRouter>\r\n                <Switch>\r\n                    <Route exact path=\"/NavBar\" component={NavBar} />\r\n                    <Route exact path=\"/ContactUs\" component={ContactUs} />\r\n                    <Route exact path=\"/Cart\" component={Cart} />\r\n                    <Route exact path=\"/Product\" component={Product} />\r\n                    <Route exact path=\"/Register\" component={Register} />\r\n                    <Route exact path=\"/ResetDatabase\" component={ResetDatabase} />   \r\n                    <Route exact path=\"/ResetShoes\" component={ResetShoes} />               \r\n                    <Route exact path=\"/\" component={Home} />\r\n                    <Route exact path=\"/Login\" component={Login} />\r\n                    <Route exact path=\"/ThankYou\" component={ThankYou} />\r\n                    <Route exact path=\"/AddedToCart\" component={AddedToCart} />\r\n                    <Route exact path=\"/Return\" component={Return} />\r\n                    <Route exact path=\"/BuyShoe/:id\" component={BuyShoeGuest} />\r\n                    <LoggedInRoute exact path=\"/BuyShoe/:id\" component={BuyShoe} />\r\n                    <LoggedInRoute exact path=\"/PayPalMessage/:msessageType/:payPalPaymentID\" component={PayPalMessage}/> \r\n                    <LoggedInRoute exact path=\"/PayPalMessageGuess/:msessageType/:payPalPaymentID\" component={PayPalMessageGuess}/>     \r\n                    <LoggedInRoute exact path=\"/Stock\" component={Stock} />\r\n                    <LoggedInRoute exact path=\"/Users\" component={Users} />\r\n                    <LoggedInRoute exact path=\"/ProfilePage\" component={ProfilePage} />\r\n                    <LoggedInRoute exact path=\"/Logout\" component={Logout} />\r\n                    <LoggedInRoute exact path=\"/AddCar\" component={AddCar} />\r\n                    <LoggedInRoute exact path=\"/EditCar/:id\" component={EditCar} />\r\n                    <LoggedInRoute exact path=\"/EditUser/:id\" component={EditUser} />\r\n                    <LoggedInRoute exact path=\"/DeleteCar/:id\" component={DeleteCar} />\r\n                    <LoggedInRoute exact path=\"/UserDelete/:id\" component={UserDelete} />\r\n                    <LoggedInRoute exact path=\"/PurchaseHistory/:email\" component={PurchaseHistory} />\r\n                    <LoggedInRoute exact path=\"/CartDelete/:id/:amount\" component={CartDelete} />\r\n                    <LoggedInRoute exact path=\"/AddComment/:name\" component={AddComment} />\r\n\r\n\r\n                    <Route exact path=\"/DisplayAllCars\" component={DisplayAllCars}/> \r\n                    <Route exact path=\"/Home\" component={Home}/> \r\n                    <Route path=\"*\" component={Home}/> \r\n                    <Route exact path=\"/Footer\" component={Footer} />\r\n                </Switch>\r\n            </BrowserRouter>\r\n        )\r\n    }\r\n}","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport \"./css/index.css\"\r\nimport App from \"./App\"\r\nimport * as serviceWorker from \"./serviceWorker\"\r\n\r\n\r\n\r\nReactDOM.render(<App/>, document.getElementById(`root`))\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister()\r\n"],"sourceRoot":""}